(this.webpackJsonpreact_app=this.webpackJsonpreact_app||[]).push([[0],{136:function(e,t,a){e.exports=a(207)},145:function(e,t,a){},147:function(e,t,a){},148:function(e,t,a){},186:function(e,t,a){},207:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(13),o=a.n(c),i=a(10),u=a(115),l=a(41);var s=localStorage.getItem("session"),m={};m&&(m=JSON.parse(s));var d=Object(l.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SESSION_LOADED":return t.data.user;case"IDLE":return{};default:return e}},group:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=e;switch(t.type){case"SESSION_LOADED":return t.data.group;case"IDLE":return{};case"LOCATION_UPDATE":return a.locations.find((function(e){return e._id===t.location._id}))||a.locations.push(t.location),a;default:return e}},status:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"IDLE",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"IDLE":case"SESSION_LOADING":case"SESSION_LOADED":return t.type;default:return e}},session:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0,a={};switch(t.type){case"SESSION_LOADED":return a={groupname:t.data.group.name||e.groupname,token:t.data.token||e.token},localStorage.setItem("session",JSON.stringify(a)),a;default:return e}},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return arguments.length>1&&arguments[1],e},inventory:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{status:"INVENTORY_UNLOADED",items:{byId:{},allIds:[]}},t=arguments.length>1?arguments[1]:void 0,a=e;switch(t.type){case"INVENTORY_LOADING":return(a=e).status="INVENTORY_LOADING",a;case"INVENTORY_LOADED":return{status:t.type,items:t.items};case"ITEM_CREATED":e.items.allIds.some((function(e){return e===t.item._id}))||e.items.allIds.push(t.item._id);case"ITEM_UPDATED":return e.items.allIds.some((function(e){return e===t.item._id}))?(a.items.byId[t.item._id]=t.item,a):e;default:return e}},selectedPane:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ITEM_SELECTED":return{type:"ITEM_MANAGE",itemid:t.item._id};case"INSERT_CLICK":return{type:"ITEM_INSERT"};case"ITEM_CREATED":if("ITEM_INSERT"===e.type)return 0;break;default:return e}},uploads:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=e;switch(t.type){case"UPLOADED":case"UPLOADING":return a[t.inputName]={status:t.type,data:t.data},a;default:return e}}}),p=(a(145),a(265)),f=a(121),E=a(267),h=a(264),g=a(262),v=a(14),y=a(263),b=a(108),w=a(57),O=a.n(w),I=a(58),S=a.n(I),N=a(286),j={};var x=r.a.memo((function(e){var t=e.fields,a=e.submit,n=(e.validated,t.map((function(e){return r.a.createElement(N.a,{key:e.name,label:e.name,type:e.type||"text",variant:"outlined",margin:"normal",required:!0,fullWidth:!0,InputProps:{endAdornment:e.endAdornment},onChange:function(t){j[e.id]=t.target.value}})})));return r.a.createElement("form",{noValidate:!0,onSubmit:function(e){return a.handle(e,j)}},n,r.a.createElement(g.a,{type:"submit",variant:"contained",color:"primary",fullWidth:!0},a.value))})),D=a(12),T=a.n(D),_=a(34),A="https://localhost:8000",k=function(e){return"".concat(A,"/group/").concat(e)},L="".concat(A,"/enter/signin"),C="".concat(A,"/enter/signup"),R="".concat(A,"/enter/newgroup"),P=function(e){return"".concat(k(e),"/action/restoresession")},G=function(e){return"".concat(A,"/pics/").concat(e)},U=function(e){return"".concat(k(e),"/inventory")},M=function(e){return"".concat(U(e),"/search")},W=function(e,t){return"".concat(U(e),"/").concat(t,"/add")},Y=function(e){return"".concat(k(e),"/upload/pic")},B=function(e){return"".concat(U(e),"/create")};function V(e){var t;return T.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,T.a.awrap(e.json());case 3:t=a.sent,a.next=9;break;case 6:throw a.prev=6,a.t0=a.catch(0),new Error("HTTP_ERROR_".concat(e.status));case 9:if("OK"===t.message){a.next=11;break}throw new Error(t.message);case 11:return a.abrupt("return",t);case 12:case"end":return a.stop()}}),null,null,[[0,6]])}function F(e){var t,a,n,r=arguments;return T.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return t=r.length>1&&void 0!==r[1]?r[1]:{},a=r.length>2&&void 0!==r[2]?r[2]:{},c.next=4,T.a.awrap(fetch(e,{method:"POST",headers:Object(_.a)({Accept:"application/json","Content-Type":"application/json"},a),body:JSON.stringify(t)}));case 4:return n=c.sent,c.abrupt("return",V(n));case 6:case"end":return c.stop()}}))}function z(e){var t,a,n,r,c,o,i=arguments;return T.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return t=i.length>1&&void 0!==i[1]?i[1]:{},a=i.length>2&&void 0!==i[2]?i[2]:{},n=Object.keys(t).map((function(e){return"".concat(e,"=").concat(t[e])})),r=n.join("&"),c="".concat(e,"?").concat(r),u.next=7,T.a.awrap(fetch(c,{method:"GET",headers:Object(_.a)({Accept:"application/json","Content-Type":"application/json"},a)}));case 7:return o=u.sent,u.abrupt("return",V(o));case 9:case"end":return u.stop()}}))}function J(e){var t,a,n,r,c=arguments;return T.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return t=c.length>1&&void 0!==c[1]?c[1]:{},a=c.length>2&&void 0!==c[2]?c[2]:{},n=new FormData,Object.keys(t).forEach((function(e){n.append(e,t[e])})),o.next=6,T.a.awrap(fetch(e,{method:"POST",headers:Object(_.a)({},a),body:n}));case 6:return r=o.sent,o.abrupt("return",V(r));case 8:case"end":return o.stop()}}))}function q(e){return function(t){e(t).catch((function(e){alert(e.message),t({type:"ERROR",error:e})}))}}function K(e){return{type:"INVENTORY_LOADED",items:e}}function H(e){var t={byId:{},allIds:[]};return e.forEach((function(e){t.byId[e._id]=e,t.allIds.push(e._id)})),t}function Q(e){var t=e.groupname,a=e.token;return q((function(e){var n;return T.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e({type:"INVENTORY_LOADING"}),r.next=3,T.a.awrap(z(U(t),{},{Authorization:"Bearer ".concat(a)}));case 3:n=r.sent,e(K(H(n.items)));case 5:case"end":return r.stop()}}))}))}function $(e,t,a){return{type:"ADDING_ITEM",item:e,where:t,amount:a}}function X(e){return{type:"ITEM_UPDATED",item:e}}function Z(e,t,a){var n,r,c;return T.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.groupname,r=e.token,t.next=3,T.a.awrap(J(Y(n),{file:a},{Authorization:"Bearer ".concat(r)}));case 3:return c=t.sent,t.abrupt("return",c.url);case 5:case"end":return t.stop()}}))}function ee(e){return{type:"SESSION_LOADED",data:e||{}}}function te(){var e=r.a.useState(!1),t=Object(v.a)(e,2),a=t[0],n=t[1],c=r.a.useState(!1),o=Object(v.a)(c,2),u=o[0],l=o[1],s=Object(i.b)();function m(e,t){var a;e.preventDefault(),n(!0),e.currentTarget.checkValidity()&&s((a=t,q((function(e){var t;return T.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e({type:"SESSION_LOADING"}),n.next=3,T.a.awrap(F(L,a));case 3:t=n.sent,e(ee(t));case 5:case"end":return n.stop()}}))}))))}return r.a.createElement(x,{fields:[{id:"groupname",name:"Group name",placeholder:"Your group name here",warning:"Invalid groupname"},{id:"username",name:"Username",placeholder:"Your username here",warning:"Invalid username"},{id:"password",name:"Password",placeholder:"Your password here",warning:"Invalid password",type:u?"text":"password",endAdornment:r.a.createElement(y.a,null,r.a.createElement(b.a,{"aria-label":"toggle password visibility",onClick:function(){return l(!u)},onMouseDown:function(e){return e.preventDefault()},edge:"end"},u?r.a.createElement(O.a,null):r.a.createElement(S.a,null)))}],submit:{value:"Sign In",handle:function(e,t){return m(e,t)}},validated:a})}function ae(){var e=r.a.useState(!1),t=Object(v.a)(e,2),a=t[0],n=t[1],c=r.a.useState(!1),o=Object(v.a)(c,2),u=o[0],l=o[1],s=Object(i.b)();function m(e,t){var a;e.preventDefault(),l(!0),e.currentTarget.checkValidity()&&s((a=t,q((function(e){var t;return T.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e({type:"SESSION_LOADING"}),n.next=3,T.a.awrap(F(C,a));case 3:t=n.sent,e(ee(t));case 5:case"end":return n.stop()}}))}))))}return r.a.createElement(x,{fields:[{id:"code",name:"Invitation code",placeholder:"Your group invitation code",warning:"Invalid invitation code"},{id:"username",name:"Username",placeholder:"Your username here",warning:"Invalid username"},{id:"password",name:"Password",placeholder:"Your password here",warning:"Invalid password",type:a?"text":"password",endAdornment:r.a.createElement(y.a,null,r.a.createElement(b.a,{"aria-label":"toggle password visibility",onClick:function(){return n(!a)},onMouseDown:function(e){return e.preventDefault()},edge:"end"},a?r.a.createElement(O.a,null):r.a.createElement(S.a,null)))}],submit:{value:"Sign Up",handle:function(e,t){return m(e,t)}},validated:u})}function ne(){var e=r.a.useState(!1),t=Object(v.a)(e,2),a=t[0],n=t[1],c=r.a.useState(!1),o=Object(v.a)(c,2),u=o[0],l=o[1],s=Object(i.b)();function m(e,t){var a;e.preventDefault(),n(!0),e.currentTarget.checkValidity()&&s((a=t,q((function(e){var t;return T.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e({type:"SESSION_LOADING"}),n.next=3,T.a.awrap(F(R,a));case 3:t=n.sent,e(ee(t));case 5:case"end":return n.stop()}}))}))))}return r.a.createElement(x,{fields:[{id:"groupname",name:"Group name",placeholder:"Your group name here",warning:"Invalid groupname"},{id:"username",name:"Username",placeholder:"Your username here",warning:"Invalid username"},{id:"password",name:"Password",placeholder:"Your password here",warning:"Invalid password",type:u?"text":"password",endAdornment:r.a.createElement(y.a,null,r.a.createElement(b.a,{"aria-label":"toggle password visibility",onClick:function(){return l(!u)},onMouseDown:function(e){return e.preventDefault()},edge:"end"},u?r.a.createElement(O.a,null):r.a.createElement(S.a,null)))}],submit:{value:"Create Group",handle:function(e,t){return m(e,t)}},validated:a})}a(147);var re=localStorage.getItem("defaultPage")||"NEW_GROUP";function ce(){var e=r.a.useState(re),t=Object(v.a)(e,2),a=t[0],n=t[1];localStorage.setItem("defaultPage",a);var c=function(){var e=[r.a.createElement(g.a,{fullWidth:!0,key:"signinOpt",onClick:function(){return n("SIGN_IN")},className:"selectFormOption"},"Sign In"),r.a.createElement(g.a,{fullWidth:!0,key:"signupOpt",onClick:function(){return n("SIGN_UP")},className:"selectFormOption"},"Sign Up"),r.a.createElement(g.a,{fullWidth:!0,key:"newGroupOpt",onClick:function(){return n("NEW_GROUP")},className:"selectFormOption"},"Create Group")];switch(a){case"SIGN_IN":return[e[1],e[2],r.a.createElement(te,null)];case"SIGN_UP":return[e[2],e[0],r.a.createElement(ae,null)];default:return[e[0],e[1],r.a.createElement(ne,null)]}}();return r.a.createElement("div",{className:"enter"},r.a.createElement(h.a,{maxWidth:"xs"},r.a.createElement(p.a,{container:!0,direction:"column",alignContent:"center",justify:"center"},c[2],r.a.createElement(p.a,{container:!0,alignItems:"center",justify:"center"},r.a.createElement(p.a,{item:!0,xs:4},c[0]),r.a.createElement(p.a,{item:!0,xs:4},c[1])))))}a(148);var oe=a(285),ie=a(283),ue=a(284),le=a(212),se=a(293),me=a(124),de=a(291),pe=a(274),fe=a(275),Ee=a(273),he=a(261),ge=a(272),ve=a(116),ye=a.n(ve),be=a(119),we=a.n(be),Oe=a(292),Ie=a(294),Se=a(268),Ne=a(269),je=a(271),xe=a(270),De=a(288),Te=a(117),_e=a.n(Te);De.a.addLocale(_e.a);var Ae=new De.a("en-US");function ke(e){var t=e.item,a=e.amount,n=e.hover,c=e.active,o=e.onClick,i="arrow";c?i="arrow arrowa":n&&(i="arrow arrowh");var u=new Date(t.updatedAt),l=Ae.format(u,"twitter")||"Just now";return r.a.createElement(Se.a,{onClick:function(e){return o(e)}},r.a.createElement(Ne.a,null,r.a.createElement(p.a,{container:!0,justify:"flex-start"},r.a.createElement(p.a,{item:!0,xs:3,sm:2},r.a.createElement(xe.a,{style:{backgroundColor:"#F5F5F5",height:"100%"},title:t.name},function(e,t){if("default_group_pic.png"===t){var a=e.split(" ").filter((function(e,t){return t<2})).map((function(e){return e.charAt(0).toUpperCase()}));return r.a.createElement(se.a,{style:{width:"100%",height:"100%"},variant:"square"},a)}return r.a.createElement(se.a,{style:{width:"100%",height:"100%"},variant:"square",alt:e,src:t})}(t.name,t.picurl))),r.a.createElement(p.a,{item:!0,xs:9,sm:7},r.a.createElement(je.a,{style:{paddingTop:"15px",paddingBottom:"15px"}},r.a.createElement(le.a,{gutterBottom:!0,variant:"h6",component:"h2"},t.name),r.a.createElement(p.a,{container:!0,justify:"flex-start",alignItems:"center"},r.a.createElement(le.a,{variant:"body2",color:"textSecondary",component:"p"},a," ","items"),r.a.createElement(le.a,{variant:"body2",color:"textSecondary",style:{paddingLeft:"10px"},component:"p"},l)))),r.a.createElement(de.a,{xsDown:!0},r.a.createElement(p.a,{item:!0,sm:3},r.a.createElement(p.a,{container:!0,justify:"flex-end"},r.a.createElement("div",{className:i},r.a.createElement("div",{className:"arrow-top"}),r.a.createElement("div",{className:"arrow-bottom"}))))))))}ke.defaultProps={amount:0,hover:!1,onClick:function(){},active:!1};var Le=r.a.memo(ke);function Ce(e){var t=e.style,a=e.id,c=Object(n.useState)(!1),o=Object(v.a)(c,2),u=o[0],l=o[1],s=Object(i.b)(),m=Object(i.c)((function(e){return e.inventory.items.byId[a]})),d=Object(i.c)((function(e){return e.selectedItemId===a}));var p=Object(_.a)({},t);return d&&(p.pointerEvents="none"),r.a.createElement("div",{style:p},r.a.createElement("div",{onActive:!0,onFocus:function(){return l(!0)},onBlur:function(){return l(!1)},onMouseEnter:function(){return l(!0)},onMouseLeave:function(){return l(!1)}},r.a.createElement(Le,{onClick:function(){return s(function(e){return{type:"ITEM_SELECTED",item:e}}(m))},item:m,hover:u,active:d,amount:(m.storedAt||[]).reduce((function(e,t){return e+t.amount}),0)})))}Ce.defaultProps={style:{}};var Re;a(186);function Pe(e){var t=e.groupname,a=e.token,c=Object(i.c)((function(e){return e.inventory.status})),o=Object(i.c)((function(e){return e.inventory.items.allIds})),u=r.a.createRef(""),l=Object(i.b)(),s=Object(n.useState)(""),m=Object(v.a)(s,2),d=m[0],f=m[1];r.a.useEffect((function(){"INVENTORY_UNLOADED"===c&&l(Q({groupname:t,token:a}))}));var E="",g="";switch(c){case"INVENTORY_LOADED":E=0===o.length?r.a.createElement(Oe.a,{key:"no_item",timeout:5e3,appear:!0,classNames:"itemOnList"},r.a.createElement(le.a,{style:{paddingTop:"3em"},variant:"h5",align:"center"},"No items in inventory")):o.map((function(e,t){return r.a.createElement(Oe.a,{key:e,timeout:5e3,appear:!0,classNames:"itemOnList"},r.a.createElement(ge.a,{style:{transitionDelay:"".concat(.1*t,"s"),paddingLeft:0,paddingRight:0}},r.a.createElement(Ce,{id:e,style:{width:"100%"}})))})),g=r.a.createElement(he.a,{style:{paddingTop:"1.3em"}},r.a.createElement(Ie.a,{className:"itemsWrapper"},E));break;default:g=r.a.createElement(p.a,{container:!0,justify:"center"},r.a.createElement(Ee.a,{style:{marginTop:"3em"}}))}function y(e){l(function(e,t){var a=e.groupname,n=e.token;return q((function(e){var r;return T.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return e({type:"INVENTORY_LOADING"}),c.next=3,T.a.awrap(z(M(a),{search:t},{Authorization:"Bearer ".concat(n)}));case 3:return r=c.sent,c.abrupt("return",e(K(H(r.items))));case 5:case"end":return c.stop()}}))}))}({groupname:t,token:a},e))}return r.a.createElement(h.a,null,r.a.createElement(p.a,{container:!0,justify:"space-between"},r.a.createElement(le.a,{variant:"h4",style:{paddingTop:"0.3em"}},"Inventory"),r.a.createElement(pe.a,{title:"Insert new item"},r.a.createElement(fe.a,{color:"primary","aria-label":"add",onClick:function(){return l({type:"INSERT_CLICK"})}},r.a.createElement(we.a,null)))),r.a.createElement(p.a,{container:!0,style:{paddingTop:"1.8em"}},r.a.createElement(de.a,{xsDown:!0},r.a.createElement(p.a,{item:!0,sm:6},r.a.createElement(le.a,{variant:"h5",style:{paddingTop:"0.3em"}},"Recently Updated"))),r.a.createElement(p.a,{item:!0,sm:6},r.a.createElement(ye.a,{value:d,onChange:function(e){return f(n=e),clearTimeout(Re),void(Re=setTimeout((function(){n?y(n):(u.current=n,l(Q({groupname:t,token:a})))}),300));var n},onRequestSearch:function(){}}))),g)}var Ge=a(277),Ue=a(278),Me=a(282),We=a(279),Ye=a(280),Be=a(281),Ve=a(289),Fe=a(276),ze=a(120),Je=a.n(ze),qe=a(287),Ke=a(290);function He(e){var t=e.onSubmit,a=e.setWhere,n=e.error,c=e.locNames,o=e.setAmount;return r.a.createElement(qe.a,{style:{padding:".4em"}},r.a.createElement("form",{onSubmit:function(e){return t(e)}},r.a.createElement(p.a,{container:!0,justify:"flex-start",alignItems:"flex-start",spacing:1},r.a.createElement(p.a,{item:!0,xs:12,sm:6},r.a.createElement(Ke.a,{id:"location_input",options:c,freeSolo:!0,onChange:function(e,t){return a(t)},onKeyUp:function(e){return a(e.target.value)},renderInput:function(e){return r.a.createElement(N.a,Object.assign({error:n.where,helperText:n.warningWhere},e,{label:"Where",fullWidth:!0}))}})),r.a.createElement(p.a,{item:!0,xs:12,sm:4},r.a.createElement(N.a,{id:"amountInput",error:n.amount,helperText:n.warningAmount,onChange:function(e){return o(Number(e.target.value))},label:"Quantity",type:"number"})),r.a.createElement(p.a,{item:!0,xs:12,sm:2,style:{height:"100%",paddingTop:"1em"}},r.a.createElement(g.a,{variant:"contained",type:"submit"},"Add")))))}He.defaultProps={error:{where:!1,amount:!1,warningWhere:"",warningAmount:""},locNames:[]};var Qe=r.a.memo(He),$e={where:!1,amount:!1,warningWhere:"",warningAmount:""};function Xe(e){var t=e.item,a=e.locations,c=Object(n.useState)(""),o=Object(v.a)(c,2),u=o[0],l=o[1],s=Object(n.useState)(0),m=Object(v.a)(s,2),d=m[0],p=m[1],f=Object(n.useState)(Object(_.a)({},$e)),E=Object(v.a)(f,2),h=E[0],g=E[1],y=Object(i.c)((function(e){return e.session})),b=Object(i.b)();return r.a.createElement(Qe,{onSubmit:function(e){e.preventDefault();var a=parseInt(d,10),n=Object(_.a)({},$e);a<=0?(n.amount=!0,n.warningAmount="Invalid amount"):u.length<4?(n.where=!0,n.warningWhere="Location must have more than 4 characters"):b(function(e,t){var a=e.groupname,n=e.token,r=t.item,c=t.locationId,o=t.locationName,i=t.amount;return q((function(e){var t;return T.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return e($(r,c,o)),u.next=3,T.a.awrap(F(W(a,r._id),{locationId:c,locationName:o,amount:i},{Authorization:"Bearer ".concat(n)}));case 3:return(t=u.sent).location&&e({type:"LOCATION_UPDATE",location:t.location}),u.abrupt("return",e(X(t.item)));case 6:case"end":return u.stop()}}))}))}(y,{item:t,locationName:u,amount:a})),g(n)},where:u,setWhere:l,error:h,locNames:a.map((function(e){return e.name})),amount:d,setAmount:p})}function Ze(){var e=Object(n.useState)(0),t=Object(v.a)(e,2),a=t[0],c=t[1],o=Object(i.c)((function(e){return e.inventory.items.byId[e.selectedPane.itemid]}))||{},u=Object(i.c)((function(e){return e.group.locations})),l=o.storedAt||[],s=r.a.useState(0),m=Object(v.a)(s,1)[0],d=r.a.useState(10),f=Object(v.a)(d,1)[0];return r.a.createElement(h.a,null,r.a.createElement(le.a,{variant:"h4",style:{paddingTop:"0.3em"}},"Manage Item"),r.a.createElement(p.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",style:{paddingTop:"1.8em"}},r.a.createElement(se.a,{alt:o.name,src:o.picurl||""}),r.a.createElement(le.a,{variant:"h6",style:{paddingLeft:"1em"}},o.name)),r.a.createElement(Ve.a,{value:a,indicatorColor:"primary",textColor:"primary",onChange:function(e,t){return c(t)},variant:"fullWidth",style:{paddingLeft:"0.5em",paddingRight:"0.5em"}},r.a.createElement(Fe.a,{label:"Store"}),r.a.createElement(Fe.a,{label:"Take"}),r.a.createElement(Fe.a,{label:"Transfer"})),r.a.createElement(Je.a,{axis:"x-reverse",index:a,containerStyle:{height:100},onChangeIndex:a},r.a.createElement(Xe,{item:o,locations:u})),r.a.createElement(Ge.a,{style:{width:"100%"}},r.a.createElement(Ue.a,{"aria-label":"table"},r.a.createElement(We.a,null,r.a.createElement(Ye.a,null,r.a.createElement(Be.a,{align:"left"},"Stored at"),r.a.createElement(Be.a,{align:"right"},"Amount"))),r.a.createElement(Me.a,null,l.slice(m*f,m*f+f).map((function(e){return r.a.createElement(Ye.a,{hover:!0,role:"checkbox",tabIndex:-1,key:e.where},r.a.createElement(Be.a,{align:"left"},u.find((function(t){return t._id===e.where})).name),r.a.createElement(Be.a,{align:"right"},e.amount))}))))))}Xe.defaultProps={locations:[]};var et=a(80),tt=a(56),at={name:!1,pic:!1,warningName:"",warningPic:""},nt=Object(me.a)((function(e){return{wrapper:{margin:e.spacing(1),position:"relative"},buttonSuccess:{backgroundColor:tt.a[500],"&:hover":{backgroundColor:tt.a[700]}},fabProgress:{color:tt.a[500],position:"absolute",top:-6,left:-6,zIndex:1},buttonProgress:{color:tt.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},thumbSize:{width:e.spacing(18),height:e.spacing(18)}}}));function rt(){var e=Object(n.useRef)(""),t=Object(n.useRef)(null),a=Object(i.c)((function(e){return e.session})),c=Object(i.c)((function(e){return e.uploads.create_item_pic})),o=Object(n.useState)(null),u=Object(v.a)(o,2),l=u[0],s=u[1],m=Object(i.b)(),d=(!c||c.status,!(!c||"UPLOADING"!==c.status)),f=nt();return r.a.createElement(h.a,null,r.a.createElement(le.a,{variant:"h4",style:{paddingTop:"0.3em",paddingBottom:"1em"}},"Create Item"),r.a.createElement(et.a,{style:{padding:"0.8em"}},r.a.createElement("form",{onSubmit:function(n){n.preventDefault(),t.current.name;var r=t.current.files[0];m(function(e,t,a,n){return q((function(t){var r,c;return T.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return t({type:"CREATING_ITEM"}),o.next=3,T.a.awrap(Z(e,0,a));case 3:return r=o.sent,o.next=6,T.a.awrap(F(B(e.groupname),{name:n,picurl:r},{Authorization:"Bearer ".concat(e.token)}));case 6:c=o.sent,t({type:"ITEM_CREATED",item:c.item});case 8:case"end":return o.stop()}}))}))}(a,0,r,e.current))}},r.a.createElement(p.a,{container:!0,direction:"row-reverse",justify:"flex-end",alignItems:"center"},r.a.createElement(p.a,{item:!0},r.a.createElement(g.a,{type:"submit",variant:"contained",color:"primary"},"Submit")),r.a.createElement(de.a,{xsDown:!0},r.a.createElement(p.a,{item:!0,sm:1})),r.a.createElement(p.a,{item:!0},r.a.createElement(N.a,{id:"itemname",error:at.name,helperText:at.warningName,onChange:function(t){return a=t.target.value,void(e.current=a);var a},label:"Item name",type:"text"})),r.a.createElement(de.a,{xsDown:!0},r.a.createElement(p.a,{item:!0,sm:1})),r.a.createElement(p.a,{item:!0},r.a.createElement(se.a,{variant:"rounded",className:f.thumbSize,src:l||""},"pic"),r.a.createElement(p.a,{container:!0,justify:"flex-start"},r.a.createElement(p.a,{item:!0},r.a.createElement("input",{ref:t,name:"create_item_pic",accept:"image/*",style:{display:"none"},id:"outlined-button-file",multiple:!0,onChange:function(){return function(){var e=t.current.files[0];s(URL.createObjectURL(e))}()},type:"file"}),r.a.createElement("label",{htmlFor:"outlined-button-file"},r.a.createElement(g.a,{variant:"text",color:"default",component:"span",disabled:d},"Select"))),r.a.createElement(p.a,{item:!0},d&&r.a.createElement(Ee.a,{size:68,className:f.fabProgress}))))))))}var ct="default_group_pic.png",ot=Object(me.a)((function(e){return{animatedGrid:{transition:e.transitions.create("all",{easing:e.transitions.easing.easeInOut,duration:"400ms"}),flexGrow:1},manageItem:function(e){return e.hassecondpane?{}:{maxWidth:"0px !important",overflow:"hidden",opacity:0}}}}));function it(){var e,t=Object(i.c)((function(e){return e.user})),a=Object(i.c)((function(e){return e.group})),n=Object(i.c)((function(e){return e.session})),c=Object(i.c)((function(e){return e.selectedPane.type})),o=ot({hassecondpane:!!c});return e=t.picurl===ct?r.a.createElement(se.a,{edge:"start",alt:t.username,src:G(a.picurl)}):r.a.createElement(se.a,{edge:"start"},t.username.charAt(0).toUpperCase()),r.a.createElement(h.a,{maxWidth:!1,style:{paddingTop:"5em",height:"100%"}},r.a.createElement(ie.a,{position:"absolute"},r.a.createElement(ue.a,null,e,r.a.createElement(le.a,{variant:"h6",style:{paddingLeft:"1em"}},t.username),r.a.createElement(le.a,{variant:"h6",style:{paddingLeft:"0.1em"}},"@"),r.a.createElement(le.a,{variant:"h6",style:{paddingLeft:"0.1em"},color:"textSecondary"},a.name))),r.a.createElement(p.a,{container:!0,alignItems:"flex-start",justify:"center",style:{height:"100%"}},r.a.createElement(p.a,{item:!0}),r.a.createElement(p.a,{item:!0,xs:12,sm:c?5:6,className:o.animatedGrid},r.a.createElement(Pe,{groupname:a.name,token:n.token})),r.a.createElement(oe.a,{orientation:"vertical",className:o.secondPane}),r.a.createElement(p.a,{item:!0,xs:12,sm:5,className:"".concat(o.animatedGrid," ").concat(o.secondPane)},function(){switch(console.log(c),c){case"ITEM_MANAGE":return r.a.createElement(Ze,null);case"ITEM_INSERT":return r.a.createElement(rt,null);default:return""}}())))}var ut=Object(f.a)({palette:{primary:{main:"#1976d2"},text:{primary:"#424851",secondary:"#a4abb4"}},typography:{fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),h4:{color:"#424851"},h5:{color:"#a4abb4"}}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var lt=Object(l.d)(d,Object(l.a)(u.a));o.a.render(r.a.createElement(i.a,{store:lt},r.a.createElement((function(){var e=Object(i.c)((function(e){return e.session})),t=Object(i.c)((function(e){return e.status})),a=Object(i.b)();return r.a.useEffect((function(){e&&e.token&&"IDLE"===t&&a(function(e){var t=e.groupname,a=e.token;return q((function(e){var n;return T.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e({type:"SESSION_LOADING"}),r.next=3,T.a.awrap(z(P(t),{},{Authorization:"Bearer ".concat(a)}));case 3:n=r.sent,e(ee(n));case 5:case"end":return r.stop()}}))}))}(e))})),r.a.createElement(E.a,{theme:ut},r.a.createElement(p.a,{container:!0,justify:"center",alignItems:"flex-start",style:{height:"100%"}},function(){switch(t){case"SESSION_LOADED":return r.a.createElement(it,null);case"IDLE":return r.a.createElement(ce,null);default:return r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("div",{className:"spinner-grow text-primary",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")))}}()))}),null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[136,1,2]]]);
//# sourceMappingURL=main.b4725c38.chunk.js.map