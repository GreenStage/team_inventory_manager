{"version":3,"sources":["reducers/session.js","reducers/index.js","reducers/user.js","reducers/group.js","reducers/status.js","reducers/error.js","reducers/inventory.js","reducers/selectedPane.js","reducers/uploads.js","components/enterForm.jsx","connector/config.js","connector/index.js","actions/error.js","actions/inventory.js","actions/manageItem.js","actions/index.js","containers/defaultPage/signin.jsx","containers/defaultPage/signup.jsx","containers/defaultPage/newgroup.jsx","containers/defaultPage/index.jsx","components/item.jsx","containers/inventory/item/index.jsx","containers/inventory/index.jsx","components/addItem.jsx","containers/manageItem/storeItem.jsx","actions/location.js","containers/manageItem/index.jsx","containers/createitem/createItem.jsx","containers/loggedInPage/index.jsx","App.jsx","serviceWorker.js","index.jsx"],"names":["localSessionJson","localStorage","getItem","localSession","JSON","parse","combineReducers","user","state","action","type","data","group","newstate","locations","find","l","_id","location","push","status","session","sessionData","groupname","name","token","setItem","stringify","error","inventory","items","byId","allIds","newState","some","id","item","selectedPane","itemid","uploads","inputName","values","React","memo","fields","submit","fieldsJsx","validated","map","field","key","label","variant","margin","required","fullWidth","InputProps","endAdornment","onChange","e","target","value","noValidate","onSubmit","handle","color","BASE_SERVER","process","INVHOST","GROUP_ENDPOINT","SIGNIN_ENDPOINT","SIGNUP_ENDPOINT","NEWGROUP_ENDPOINT","RESTORE_SESSION_ENDPOINT","PIC_ENDOINT","picurl","INVENTORY_ENDPOINT","INVENTORY_SEARCH","ADD_ITEM","UPLOAD_PIC","CREATE_ITEM","handleJsonResponse","resp","a","async","json","Error","message","post","endpoint","body","headers","fetch","method","Accept","get","params","params1","Object","keys","k","paramsStr","join","composedUrl","upload","fd","FormData","forEach","append","handleError","fn","dispatch","catch","alert","inventoryLoaded","normalizeInventory","inv","returnObj","loadInventory","server","Authorization","addingItem","where","amount","itemUpdated","uploadPic","file","url","sessionLoaded","serverResponse","Signin","useState","setValidated","showPassword","setShowPassword","useDispatch","onClickSubmit","event","preventDefault","currentTarget","checkValidity","placeholder","warning","aria-label","onClick","onMouseDown","edge","Signup","NewGroup","storedPage","DefaultPage","page","setPage","renderS","options","className","renderState","maxWidth","container","direction","alignContent","justify","alignItems","xs","TimeAgo","addLocale","en","timeAgo","Item","hover","active","arrowClass","date","Date","updatedAt","dateStr","format","sm","style","backgroundColor","height","title","itemname","letters","split","filter","v","i","charAt","toUpperCase","width","alt","src","getItemThumbnail","paddingTop","paddingBottom","gutterBottom","component","paddingLeft","xsDown","defaultProps","setHover","useSelector","isSelected","selectedItemId","setStyle","pointerEvents","onActive","onFocus","onBlur","onMouseEnter","onMouseLeave","selectItem","storedAt","reduce","sum","loc","typingTimer","Inventory","inventoryStatus","itemIds","filterQuery","createRef","searchValue","setSearchValue","useEffect","itemsJsx","retJsx","length","CSSTransition","timeout","appear","classNames","align","index","transitionDelay","paddingRight","TransitionGroup","marginTop","search","searchInventory","clearTimeout","setTimeout","current","onRequestSearch","AddItem","setWhere","locNames","setAmount","padding","Grid","spacing","Autocomplete","freeSolo","onKeyUp","renderInput","TextField","helperText","warningWhere","warningAmount","Number","noError","StoreItem","setError","am","parseInt","newErr","locationId","locationName","addItem","ManageItem","selectedTab","setSelectedTab","storedLocs","rowsPerPage","indicatorColor","textColor","axis","containerStyle","onChangeIndex","slice","role","tabIndex","pic","warningName","warningPic","useStyles","makeStyles","theme","wrapper","position","buttonSuccess","green","fabProgress","top","left","zIndex","buttonProgress","marginLeft","thumbSize","CreateItem","useRef","uploadInput","picUpload","picPreview","setPicPreview","loading","classes","files","createItem","ref","accept","display","multiple","URL","createObjectURL","setPic","htmlFor","disabled","size","defaultPicUrl","animatedGrid","transition","transitions","create","easing","easeInOut","duration","flexGrow","manageItem","hassecondpane","overflow","opacity","LoggedInPage","avatar","selectedPaneType","username","orientation","secondPane","console","log","choseSecondPane","createMuiTheme","palette","primary","main","text","secondary","typography","fontFamily","h4","h5","Boolean","window","hostname","match","store","createStore","mainreducer","applyMiddleware","thunk","ReactDOM","render","restoreSession","ThemeProvider","decideRender","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"2SAAA,IAAMA,EAAmBC,aAAaC,QAAQ,WAC1CC,EAAe,GAEfA,IACFA,EAAeC,KAAKC,MAAML,ICMbM,kBAAgB,CAC7BC,KCXa,WAAmC,IAArBC,EAAoB,uDAAZ,GAAIC,EAAQ,uCAC/C,OAAQA,EAAOC,MACb,IAAK,iBACH,OAAOD,EAAOE,KAAKJ,KACrB,IAAK,OACH,MAAO,GACT,QACE,OAAOC,IDKXI,MEXa,WAAoC,IAArBJ,EAAoB,uDAAZ,GAAIC,EAAQ,uCAC1CI,EAAWL,EACjB,OAAQC,EAAOC,MACb,IAAK,iBACH,OAAOD,EAAOE,KAAKC,MACrB,IAAK,OACH,MAAO,GACT,IAAK,kBAKH,OAJeC,EAASC,UAAUC,MAAK,SAACC,GAAD,OAAOA,EAAEC,MAAQR,EAAOS,SAASD,QAEtEJ,EAASC,UAAUK,KAAKV,EAAOS,UAE1BL,EACT,QACE,OAAOL,IFFXY,OGba,WAAyC,IAAzBZ,EAAwB,uDAAhB,OAAQC,EAAQ,uCACrD,OAAQA,EAAOC,MACb,IAAK,OACL,IAAK,kBACL,IAAK,iBACH,OAAOD,EAAOC,KAChB,QACE,OAAOF,IHOXa,QDPa,WAAgD,IAA/Bb,EAA8B,uDAAtBL,EAAcM,EAAQ,uCACxDa,EAAc,GAClB,OAAQb,EAAOC,MACb,IAAK,iBAMH,OALAY,EAAc,CACZC,UAAWd,EAAOE,KAAKC,MAAMY,MAAQhB,EAAMe,UAC3CE,MAAOhB,EAAOE,KAAKc,OAASjB,EAAMiB,OAEpCxB,aAAayB,QAAQ,UAAWtB,KAAKuB,UAAUL,IACxCA,EACT,QACE,OAAOd,ICHXoB,MIfa,WAAsC,IAAvBpB,EAAsB,uDAAd,KAUpC,OAVkD,iCAU3CA,GJMPqB,UKhBa,WAGH,IAHsBrB,EAGvB,uDAH+B,CACxCY,OAAQ,qBACRU,MAAO,CAAEC,KAAM,GAAIC,OAAQ,KAC1BvB,EAAQ,uCACLwB,EAAWzB,EACf,OAAQC,EAAOC,MACb,IAAK,oBAGH,OAFAuB,EAAWzB,GACFY,OAAS,oBACXa,EAET,IAAK,mBACH,MAAO,CAAEb,OAAQX,EAAOC,KAAMoB,MAAOrB,EAAOqB,OAE9C,IAAK,eACEtB,EAAMsB,MAAME,OAAOE,MAAK,SAACC,GAAD,OAAQA,IAAO1B,EAAO2B,KAAKnB,QACtDT,EAAMsB,MAAME,OAAOb,KAAKV,EAAO2B,KAAKnB,KAGxC,IAAK,eACH,OAAIT,EAAMsB,MAAME,OAAOE,MAAK,SAACC,GAAD,OAAQA,IAAO1B,EAAO2B,KAAKnB,QACrDgB,EAASH,MAAMC,KAAKtB,EAAO2B,KAAKnB,KAAOR,EAAO2B,KAQvCH,GAEFzB,EAET,QACE,OAAOA,ILjBX6B,aMjBa,WAA0C,IAApB7B,EAAmB,uDAAX,EAAGC,EAAQ,uCACtD,OAAQA,EAAOC,MACb,IAAK,gBACH,MAAO,CACLA,KAAM,cACN4B,OAAQ7B,EAAO2B,KAAKnB,KAExB,IAAK,eACH,MAAO,CACLP,KAAM,eAEV,IAAK,eACH,GAAmB,gBAAfF,EAAME,KACR,OAAO,EAET,MACF,QACE,OAAOF,INCX+B,QOlBa,WAAsC,IAArB/B,EAAoB,uDAAZ,GAAIC,EAAQ,uCAC5CwB,EAAWzB,EACjB,OAAQC,EAAOC,MACb,IAAK,WACL,IAAK,YAKH,OAJAuB,EAASxB,EAAO+B,WAAa,CAC3BpB,OAAQX,EAAOC,KACfC,KAAMF,EAAOE,MAERsB,EACT,QACE,OAAOzB,M,2HCPPiC,EAAS,GAqDAC,UAAMC,MAnDrB,YAAmD,IAA9BC,EAA6B,EAA7BA,OAAQC,EAAqB,EAArBA,OACrBC,GAD0C,EAAbC,UACjBH,EAAOI,KAAI,SAACC,GAAD,OAC3B,uBACEC,IAAKD,EAAMzB,KACX2B,MAAOF,EAAMzB,KACbd,KAAMuC,EAAMvC,MAAQ,OACpB0C,QAAQ,WACRC,OAAO,SACPC,UAAQ,EACRC,WAAS,EACTC,WAAY,CACVC,aAAcR,EAAMQ,cAEtBC,SAAU,SAACC,GAAQlB,EAAOQ,EAAMd,IAAMwB,EAAEC,OAAOC,aAKnD,OACE,0BACEC,YAAU,EACVC,SAAU,SAACJ,GAAD,OAAOd,EAAOmB,OAAOL,EAAGlB,KAEjCK,EACD,uBACEpC,KAAK,SACL0C,QAAQ,YACRa,MAAM,UACNV,WAAS,GAERV,EAAOgB,W,yBCpCVK,EAAcC,8CAAYC,SAAW,mCAC9BC,EAAiB,SAAC9C,GAAD,gBAAkB2C,EAAlB,kBAAuC3C,IACxD+C,EAAe,UAAMJ,EAAN,iBACfK,EAAe,UAAML,EAAN,iBACfM,EAAiB,UAAMN,EAAN,mBACjBO,EAA2B,SAAClD,GAAD,gBAAkB8C,EAAe9C,GAAjC,2BAC3BmD,EAAc,SAACC,GAAD,gBAAeT,EAAf,iBAAmCS,IACjDC,EAAqB,SAACrD,GAAD,gBAAkB8C,EAAe9C,GAAjC,eACrBsD,EAAmB,SAACtD,GAAD,gBAAkBqD,EAAmBrD,GAArC,YACnBuD,EAAW,SAACvD,EAAWe,GAAZ,gBAA0BsC,EAAmBrD,GAA7C,YAA2De,EAA3D,SACXyC,EAAa,SAACxD,GAAD,gBAAkB8C,EAAe9C,GAAjC,gBACbyD,EAAc,SAACzD,GAAD,gBAAkBqD,EAAmBrD,GAArC,YCT3B,SAAe0D,EAAmBC,GAAlC,eAAAC,EAAAC,OAAA,2EAAAD,EAAA,MAGiBD,EAAKG,QAHtB,OAGIA,EAHJ,4DAKU,IAAIC,MAAJ,qBAAwBJ,EAAK9D,SALvC,UAOuB,OAAjBiE,EAAKE,QAPX,uBAQU,IAAID,MAAMD,EAAKE,SARzB,iCAUSF,GAVT,wDAYO,SAAeG,EAAKC,GAApB,+BAAAN,EAAAC,OAAA,uDAA8BM,EAA9B,+BAAqC,GAAIC,EAAzC,+BAAmD,GAAnD,WAAAR,EAAA,MACcS,MAAMH,EAAU,CACjCI,OAAQ,OACRF,QAAQ,aACNG,OAAQ,mBACR,eAAgB,oBACbH,GAELD,KAAMtF,KAAKuB,UAAU+D,MARlB,cACCR,EADD,yBAUED,EAAmBC,IAVrB,qCAaA,SAAea,EAAIN,GAAnB,qCAAAN,EAAAC,OAAA,uDAA6BY,EAA7B,+BAAsC,GAAIL,EAA1C,+BAAoD,GACnDM,EAAUC,OAAOC,KAAKH,GAAQhD,KAAI,SAACoD,GAAD,gBAAUA,EAAV,YAAeJ,EAAOI,OACxDC,EAAYJ,EAAQK,KAAK,KACzBC,EAHD,UAGkBd,EAHlB,YAG8BY,GAH9B,WAAAlB,EAAA,MAKcS,MAAMW,EAAa,CACpCV,OAAQ,MACRF,QAAQ,aACNG,OAAQ,mBACR,eAAgB,oBACbH,MAVF,cAKCT,EALD,yBAaED,EAAmBC,IAbrB,qCAgBA,SAAesB,EAAOf,GAAtB,iCAAAN,EAAAC,OAAA,uDAAgCM,EAAhC,+BAAuC,GAAIC,EAA3C,+BAAqD,GACpDc,EAAK,IAAIC,SACfR,OAAOC,KAAKT,GAAMiB,SAAQ,SAACP,GACzBK,EAAGG,OAAOR,EAAGV,EAAKU,OAHf,WAAAjB,EAAA,MAKcS,MAAMH,EAAU,CACjCI,OAAQ,OACRF,QAAQ,eACHA,GAELD,KAAMe,KAVH,cAKCvB,EALD,yBAYED,EAAmBC,IAZrB,qCC1CQ,SAAS2B,EAAYC,GAClC,OAAO,SAAoBC,GACzBD,EAAGC,GAAUC,OAAM,SAACpF,GAClBqF,MAAMrF,EAAM2D,SACZwB,EAAS,CAAErG,KAAM,QAASkB,cCEhC,SAASsF,EAAgBpF,GACvB,MAAO,CAAEpB,KAAM,mBAAoBoB,SAGrC,SAASqF,EAAmBC,GAC1B,IAAMC,EAAY,CAAEtF,KAAM,GAAIC,OAAQ,IAKtC,OAJAoF,EAAIT,SAAQ,SAACvE,GACXiF,EAAUtF,KAAKK,EAAKnB,KAAOmB,EAC3BiF,EAAUrF,OAAOb,KAAKiB,EAAKnB,QAEtBoG,EAGF,SAASC,EAAT,GAA8C,IAArB/F,EAAoB,EAApBA,UAAWE,EAAS,EAATA,MACzC,OAAOoF,GAAY,SAAOE,GAAP,eAAA5B,EAAAC,OAAA,uDACjB2B,EAlBK,CAAErG,KAAM,sBAiBI,WAAAyE,EAAA,MAEEoC,EAAWA,EAA0BhG,GAAY,GAAI,CACtEiG,cAAc,UAAD,OAAY/F,MAHV,OAEXyD,EAFW,OAKjB6B,EAASG,EAAgBC,EAAmBjC,EAAKpD,SALhC,wCCjBrB,SAAS2F,EAAWrF,EAAMsF,EAAOC,GAC/B,MAAO,CACLjH,KAAM,cAAe0B,OAAMsF,QAAOC,UAItC,SAASC,EAAYxF,GACnB,MAAO,CAAE1B,KAAM,eAAgB0B,QAqCjC,SAAeyF,EAAf,EAA+CrF,EAAWsF,GAA1D,mBAAA3C,EAAAC,OAAA,uDAA2B7D,EAA3B,EAA2BA,UAAWE,EAAtC,EAAsCA,MAAtC,WAAA0D,EAAA,MACqBoC,EAAcA,EAAkBhG,GAAY,CAC7DuG,QACC,CACDN,cAAc,UAAD,OAAY/F,MAJ7B,cACQyD,EADR,yBAMSA,EAAK6C,KANd,qCCzCA,SAASC,GAAcC,GACrB,MAAO,CAAEvH,KAAM,iBAAkBC,KAAMsH,GAAkB,ICA5C,SAASC,KAAU,IAAD,EACGxF,IAAMyF,UAAS,GADlB,mBACxBpF,EADwB,KACbqF,EADa,OAES1F,IAAMyF,UAAS,GAFxB,mBAExBE,EAFwB,KAEVC,EAFU,KAGzBvB,EAAWwB,cAEjB,SAASC,EAAcC,EAAOhG,GDFzB,IAAgBuD,ECGnByC,EAAMC,iBACNN,GAAa,GACTK,EAAME,cAAcC,iBACtB7B,GDNiBf,ECMDvD,EDLboE,GAAY,SAAOE,GAAP,eAAA5B,EAAAC,OAAA,uDACjB2B,EATK,CAAErG,KAAM,oBAQI,WAAAyE,EAAA,MAEEoC,EAAYA,EAAwBvB,IAFtC,OAEXd,EAFW,OAGjB6B,EAASiB,GAAc9C,IAHN,0CCSnB,OACE,kBAAC,EAAD,CACEtC,OAAQ,CACN,CACET,GAAI,YACJX,KAAM,aACNqH,YAAa,uBACbC,QAAS,qBAEX,CACE3G,GAAI,WACJX,KAAM,WACNqH,YAAa,qBACbC,QAAS,oBAEX,CACE3G,GAAI,WACJX,KAAM,WACNqH,YAAa,qBACbC,QAAS,mBACTpI,KAAM2H,EAAe,OAAS,WAC9B5E,aACE,2BACE,uBACEsF,aAAW,6BACXC,QAAS,kBAAMV,GAAiBD,IAChCY,YAAa,SAACtF,GAAD,OAAOA,EAAE+E,kBACtBQ,KAAK,OAEJb,EAAe,kBAAC,IAAD,MAAiB,kBAAC,IAAD,UAM3CxF,OAAQ,CACNgB,MAAO,UACPG,OAAQ,SAACyE,EAAOhG,GAAR,OAAmB+F,EAAcC,EAAOhG,KAElDM,UAAWA,ICpDF,SAASoG,KAAU,IAAD,EACSzG,IAAMyF,UAAS,GADxB,mBACxBE,EADwB,KACVC,EADU,OAEG5F,IAAMyF,UAAS,GAFlB,mBAExBpF,EAFwB,KAEbqF,EAFa,KAGzBrB,EAAWwB,cAEjB,SAASC,EAAcC,EAAOhG,GFMzB,IAAgBuD,EELnByC,EAAMC,iBACNN,GAAa,GACTK,EAAME,cAAcC,iBACtB7B,GFEiBf,EEFDvD,EFGboE,GAAY,SAAOE,GAAP,eAAA5B,EAAAC,OAAA,uDACjB2B,EAjBK,CAAErG,KAAM,oBAgBI,WAAAyE,EAAA,MAEEoC,EAAYA,EAAwBvB,IAFtC,OAEXd,EAFW,OAGjB6B,EAASiB,GAAc9C,IAHN,0CECnB,OACE,kBAAC,EAAD,CACEtC,OAAQ,CACN,CACET,GAAI,OACJX,KAAM,kBACNqH,YAAa,6BACbC,QAAS,2BAEX,CACE3G,GAAI,WACJX,KAAM,WACNqH,YAAa,qBACbC,QAAS,oBAEX,CACE3G,GAAI,WACJX,KAAM,WACNqH,YAAa,qBACbC,QAAS,mBACTpI,KAAM2H,EAAe,OAAS,WAC9B5E,aACE,2BACE,uBACEsF,aAAW,6BACXC,QAAS,kBAAMV,GAAiBD,IAChCY,YAAa,SAACtF,GAAD,OAAOA,EAAE+E,kBACtBQ,KAAK,OAEJb,EAAe,kBAAC,IAAD,MAAiB,kBAAC,IAAD,UAM3CxF,OAAQ,CACNgB,MAAO,UACPG,OAAQ,SAACyE,EAAOhG,GAAR,OAAmB+F,EAAcC,EAAOhG,KAElDM,UAAWA,ICpDF,SAASqG,KAAY,IAAD,EACC1G,IAAMyF,UAAS,GADhB,mBAC1BpF,EAD0B,KACfqF,EADe,OAEO1F,IAAMyF,UAAS,GAFtB,mBAE1BE,EAF0B,KAEZC,EAFY,KAG3BvB,EAAWwB,cAEjB,SAASC,EAAcC,EAAOhG,GHczB,IAAqBuD,EGbxByC,EAAMC,iBACNN,GAAa,GACTK,EAAME,cAAcC,iBACtB7B,GHUsBf,EGVDvD,EHWlBoE,GAAY,SAAOE,GAAP,eAAA5B,EAAAC,OAAA,uDACjB2B,EAzBK,CAAErG,KAAM,oBAwBI,WAAAyE,EAAA,MAEEoC,EAAYA,EAA0BvB,IAFxC,OAEXd,EAFW,OAGjB6B,EAASiB,GAAc9C,IAHN,0CGPnB,OACE,kBAAC,EAAD,CACEtC,OAAQ,CACN,CACET,GAAI,YACJX,KAAM,aACNqH,YAAa,uBACbC,QAAS,qBAEX,CACE3G,GAAI,WACJX,KAAM,WACNqH,YAAa,qBACbC,QAAS,oBAEX,CACE3G,GAAI,WACJX,KAAM,WACNqH,YAAa,qBACbC,QAAS,mBACTpI,KAAM2H,EAAe,OAAS,WAC9B5E,aACE,2BACE,uBACEsF,aAAW,6BACXC,QAAS,kBAAMV,GAAiBD,IAChCY,YAAa,SAACtF,GAAD,OAAOA,EAAE+E,kBACtBQ,KAAK,OAEJb,EAAe,kBAAC,IAAD,MAAiB,kBAAC,IAAD,UAM3CxF,OAAQ,CACNgB,MAAO,eACPG,OAAQ,SAACyE,EAAOhG,GAAR,OAAmB+F,EAAcC,EAAOhG,KAElDM,UAAWA,I,WCrDXsG,GAAapJ,aAAaC,QAAQ,gBAAkB,YAE3C,SAASoJ,KAAe,IAAD,EACZ5G,IAAMyF,SAASkB,IADH,mBAC7BE,EAD6B,KACvBC,EADuB,KAEpCvJ,aAAayB,QAAQ,cAAe6H,GAgBpC,IAAME,EAdN,WACE,IAAMC,EAAU,CACd,uBAAQnG,WAAS,EAACL,IAAI,YAAY8F,QAAS,kBAAMQ,EAAQ,YAAYG,UAAU,oBAA/E,WACA,uBAAQpG,WAAS,EAACL,IAAI,YAAY8F,QAAS,kBAAMQ,EAAQ,YAAYG,UAAU,oBAA/E,WACA,uBAAQpG,WAAS,EAACL,IAAI,cAAc8F,QAAS,kBAAMQ,EAAQ,cAAcG,UAAU,oBAAnF,iBAGF,OAAQJ,GACN,IAAK,UAAW,MAAO,CAACG,EAAQ,GAAIA,EAAQ,GAAI,kBAACxB,GAAD,OAChD,IAAK,UAAW,MAAO,CAACwB,EAAQ,GAAIA,EAAQ,GAAI,kBAACP,GAAD,OAChD,QAAS,MAAO,CAACO,EAAQ,GAAIA,EAAQ,GAAI,kBAAC,GAAD,QAI7BE,GAEhB,OACE,yBAAKD,UAAU,SACb,uBAAWE,SAAS,MAClB,uBAAMC,WAAS,EAACC,UAAU,SAASC,aAAa,SAASC,QAAQ,UAC9DR,EAAQ,GACT,uBAAMK,WAAS,EAACI,WAAW,SAASD,QAAQ,UAC1C,uBAAM7H,MAAI,EAAC+H,GAAI,GACZV,EAAQ,IAEX,uBAAMrH,MAAI,EAAC+H,GAAI,GACZV,EAAQ,Q,wQC9BvBW,KAAQC,UAAUC,MAClB,IAAMC,GAAU,IAAIH,KAAQ,SA0B5B,SAASI,GAAT,GAEI,IADFpI,EACC,EADDA,KAAMuF,EACL,EADKA,OAAQ8C,EACb,EADaA,MAAOC,EACpB,EADoBA,OAAQ1B,EAC5B,EAD4BA,QAEzB2B,EAAa,QACbD,EAAQC,EAAa,eAChBF,IAAOE,EAAa,gBAE7B,IAAMC,EAAO,IAAIC,KAAKzI,EAAK0I,WACrBC,EAAUR,GAAQS,OAAOJ,EAAM,YAAc,WAEnD,OACE,wBAAM5B,QAAU,SAACrF,GAAD,OAAOqF,EAAQrF,KAC7B,4BACE,uBAAMmG,WAAS,EAACG,QAAQ,cACtB,uBAAM7H,MAAI,EAAC+H,GAAI,EAAGc,GAAI,GACpB,wBACEC,MAAO,CAAEC,gBAAiB,UAAWC,OAAQ,QAC7CC,MAAOjJ,EAAKZ,MAzC1B,SAA0B8J,EAAU3G,GAClC,GAAe,0BAAXA,EAAoC,CACtC,IAAM4G,EAAUD,EAASE,MAAM,KAC5BC,QAAO,SAACC,EAAGC,GAAJ,OAAUA,EAAI,KACrB3I,KAAI,SAACxB,GAAD,OAAUA,EAAKoK,OAAO,GAAGC,iBAChC,OACE,wBACEX,MAAO,CAAEY,MAAO,OAAQV,OAAQ,QAChChI,QAAQ,UAENmI,GAIR,OACE,wBACEL,MAAO,CAAEY,MAAO,OAAQV,OAAQ,QAChChI,QAAQ,SACR2I,IAAKT,EACLU,IAAKrH,IAwBIsH,CAAiB7J,EAAKZ,KAAMY,EAAKuC,UAGtC,uBAAMvC,MAAI,EAAC+H,GAAI,EAAGc,GAAI,GACpB,wBAAaC,MAAO,CAAEgB,WAAY,OAAQC,cAAe,SACvD,wBAAYC,cAAY,EAAChJ,QAAQ,KAAKiJ,UAAU,MAC7CjK,EAAKZ,MAER,uBAAMsI,WAAS,EAACG,QAAQ,aAAaC,WAAW,UAC9C,wBAAY9G,QAAQ,QAAQa,MAAM,gBAAgBoI,UAAU,KACxD1E,EACD,IAFH,SAKA,wBAAYvE,QAAQ,QAAQa,MAAM,gBAAgBiH,MAAO,CAAEoB,YAAa,QAAUD,UAAU,KACzFtB,MAKT,wBAAQwB,QAAM,GACZ,uBAAMnK,MAAI,EAAC6I,GAAI,GACb,uBAAMnB,WAAS,EAACG,QAAQ,YACtB,yBAAKN,UAAWgB,GACd,yBAAKhB,UAAU,cACf,yBAAKA,UAAU,wBA2BjCa,GAAKgC,aAAe,CAClB7E,OAAQ,EACR8C,OAAO,EACPzB,QAAS,aACT0B,QAAQ,GAGKhI,WAAMC,KAAK6H,IC3GX,SAASA,GAAT,GAA8B,IAAdU,EAAa,EAAbA,MAAO/I,EAAM,EAANA,GAAM,EAChBgG,oBAAS,GADO,mBACnCsC,EADmC,KAC5BgC,EAD4B,KAGpC1F,EAAWwB,cACXnG,EAAOsK,aAAY,SAAClM,GACxB,OAAOA,EAAMqB,UAAUC,MAAMC,KAAKI,MAE9BwK,EAAaD,aAAY,SAAClM,GAAD,OAAWA,EAAMoM,iBAAmBzK,KAOnE,IAAM0K,EAAQ,eAAQ3B,GAKtB,OAJIyB,IACFE,EAASC,cAAgB,QAIzB,yBAAK5B,MAAO2B,GACV,yBACEE,UAAQ,EACRC,QAAS,kBAAMP,GAAS,IACxBQ,OAAQ,kBAAMR,GAAS,IACvBS,aAAc,kBAAMT,GAAS,IAC7BU,aAAc,kBAAMV,GAAS,KAE7B,kBAAC,GAAD,CACEzD,QAAS,kBAAMjC,ERIlB,SAAoB3E,GACzB,MAAO,CAAE1B,KAAM,gBAAiB0B,QQLAgL,CAAWhL,KACnCA,KAAMA,EACNqI,MAAOA,EACPC,OAAQiC,EACRhF,QAvBMvF,EAAKiL,UAAY,IAClBC,QAAO,SAACC,EAAKC,GAAN,OAAcD,EAAMC,EAAI7F,SAAQ,OAkCtD6C,GAAKgC,aAAe,CAClBtB,MAAO,I,ICrCLuC,G,OACW,SAASC,GAAT,GAA0C,IAArBnM,EAAoB,EAApBA,UAAWE,EAAS,EAATA,MACvCkM,EAAkBjB,aAAY,SAAClM,GAAD,OAAWA,EAAMqB,UAAUT,UACzDwM,EAAUlB,aAAY,SAAClM,GAAD,OAAWA,EAAMqB,UAAUC,MAAME,UACzD6L,EAAcnL,IAAMoL,UAAU,IAE5B/G,EAAWwB,cALqC,EAMhBJ,mBAAS,IANO,mBAM/C4F,EAN+C,KAMlCC,EANkC,KAQtDtL,IAAMuL,WAAU,WACU,uBAApBN,GACF5G,EAASO,EAAc,CAAE/F,YAAWE,cAIxC,IAAIyM,EAAW,GACXC,EAAS,GAGb,OAAQR,GACN,IAAK,mBAEDO,EADqB,IAAnBN,EAAQQ,OAER,kBAACC,GAAA,EAAD,CACEnL,IAAK,UACLoL,QAAS,IACTC,QAAM,EACNC,WAAW,cAEX,wBACEtD,MAAO,CAAEgB,WAAY,OACrB9I,QAAQ,KACRqL,MAAM,UAHR,0BAWOb,EAAQ5K,KAAI,SAACb,EAAIuM,GAAL,OACrB,kBAACL,GAAA,EAAD,CACEnL,IAAKf,EACLmM,QAAS,IACTC,QAAM,EACNC,WAAW,cAEX,wBAAUtD,MAAO,CAAEyD,gBAAgB,GAAD,OAAa,GAARD,EAAL,KAAqBpC,YAAa,EAAGsC,aAAc,IACnF,kBAAC,GAAD,CAAMzM,GAAIA,EAAI+I,MAAO,CAAEY,MAAO,eAMtCqC,EACE,wBAAMjD,MAAO,CAAEgB,WAAY,UACzB,kBAAC2C,GAAA,EAAD,CAAiBlF,UAAU,gBACxBuE,IAIP,MACF,QACEC,EAAU,uBAAMrE,WAAS,EAACG,QAAQ,UAAS,wBAAkBiB,MAAO,CAAE4D,UAAW,UAGrF,SAASC,EAAOlL,GACdkD,ETrDG,WAA+CgI,GAAS,IAA7BxN,EAA4B,EAA5BA,UAAWE,EAAiB,EAAjBA,MAC3C,OAAOoF,GAAY,SAAOE,GAAP,eAAA5B,EAAAC,OAAA,uDACjB2B,EA5BK,CAAErG,KAAM,sBA2BI,WAAAyE,EAAA,MAEEoC,EAAWA,EAAwBhG,GAAY,CAAEwN,UAAU,CAC5EvH,cAAc,UAAD,OAAY/F,MAHV,cAEXyD,EAFW,yBAKV6B,EAASG,EAAgBC,EAAmBjC,EAAKpD,UALvC,wCSoDRkN,CAAgB,CAAEzN,YAAWE,SAASoC,IAgBjD,OACE,2BACE,uBAAMiG,WAAS,EAACG,QAAQ,iBACtB,wBAAY7G,QAAQ,KAAK8H,MAAO,CAAEgB,WAAY,UAA9C,aAIA,wBAASb,MAAM,mBACb,wBAAKpH,MAAM,UAAU8E,aAAW,MAAMC,QAAS,kBAAMjC,ET9DtD,CAAErG,KAAM,mBS+DL,kBAAC,KAAD,SAIN,uBAAMoJ,WAAS,EAACoB,MAAO,CAAEgB,WAAY,UACnC,wBAAQK,QAAM,GACZ,uBAAMnK,MAAI,EAAC6I,GAAI,GACb,wBAAY7H,QAAQ,KAAK8H,MAAO,CAAEgB,WAAY,UAA9C,sBAKJ,uBAAM9J,MAAI,EAAC6I,GAAI,GACb,kBAAC,KAAD,CACEpH,MAAOkK,EACPrK,SAAU,SAACgI,GAAD,OApClBsC,EADsBnK,EAqCkB6H,GAnCxCuD,aAAaxB,SACbA,GAAcyB,YAAW,WACnBrL,EACFkL,EAAOlL,IAEPgK,EAAYsB,QAAUtL,EACtBkD,EAASO,EAAc,CAAE/F,YAAWE,cAErC,MAVL,IAAwBoC,GAsCduL,gBAAiB,iBAKtBjB,G,6HCvHP,SAASkB,GAAT,GAMI,IALFtL,EAKC,EALDA,SACAuL,EAIC,EAJDA,SACA1N,EAGC,EAHDA,MACA2N,EAEC,EAFDA,SACAC,EACC,EADDA,UAEA,OACE,wBAAKtE,MAAO,CAACuE,QAAQ,SACnB,0BAAM1L,SAAU,SAACJ,GAAD,OAAOI,EAASJ,KAC9B,kBAAC+L,EAAA,EAAD,CAAM5F,WAAS,EAACG,QAAQ,aAAaC,WAAW,aAAayF,QAAS,GACpE,kBAACD,EAAA,EAAD,CAAMtN,MAAI,EAAC+H,GAAI,GAAIc,GAAI,GACrB,kBAAC2E,GAAA,EAAD,CACEzN,GAAG,iBACHuH,QAAS6F,EACTM,UAAQ,EACRnM,SAAU,SAACC,EAAGE,GAAJ,OAAcyL,EAASzL,IACjCiM,QAAS,SAACnM,GAAD,OAAO2L,EAAS3L,EAAEC,OAAOC,QAClCkM,YAAa,SAAC/J,GAAD,OACX,kBAACgK,EAAA,EAAD,eACEpO,MAAOA,EAAM8F,MACbuI,WAAYrO,EAAMsO,cAEdlK,EAJN,CAKE7C,MAAM,QACNI,WAAS,SAKjB,kBAACmM,EAAA,EAAD,CAAMtN,MAAI,EAAC+H,GAAI,GAAIc,GAAI,GACrB,kBAAC+E,EAAA,EAAD,CACE7N,GAAG,cACHP,MAAOA,EAAM+F,OACbsI,WAAYrO,EAAMuO,cAClBzM,SAAU,SAACC,GAAD,OAAO6L,EAAUY,OAAOzM,EAAEC,OAAOC,SAC3CV,MAAM,WACNzC,KAAK,YAGT,kBAACgP,EAAA,EAAD,CAAMtN,MAAI,EAAC+H,GAAI,GAAIc,GAAI,EAAGC,MAAO,CAAEE,OAAQ,OAAQc,WAAY,QAC7D,uBAAQ9I,QAAQ,YAAY1C,KAAK,UAAjC,WAuBZ2O,GAAQ7C,aAAe,CACrB5K,MAAO,CACL8F,OAAO,EACPC,QAAQ,EACRuI,aAAc,GACdC,cAAe,IAEjBZ,SAAU,IAGG7M,WAAMC,KAAK0M,IC9EpBgB,GAAU,CACd3I,OAAO,EACPC,QAAQ,EACRuI,aAAc,GACdC,cAAe,IAGF,SAASG,GAAT,GAAyC,IAApBlO,EAAmB,EAAnBA,KAAMtB,EAAa,EAAbA,UAAa,EAC3BqH,mBAAS,IADkB,mBAC9CT,EAD8C,KACvC4H,EADuC,OAEzBnH,mBAAS,GAFgB,mBAE9CR,EAF8C,KAEtC6H,EAFsC,OAG3BrH,mBAAS,eAAKkI,KAHa,mBAG9CzO,EAH8C,KAGvC2O,EAHuC,KAK/ClP,EAAUqL,aAAY,SAAClM,GAAD,OAAWA,EAAMa,WACvC0F,EAAWwB,cAkBjB,OACE,kBAAC,GAAD,CACExE,SAlBJ,SAAkBJ,GAChBA,EAAE+E,iBACF,IAAM8H,EAAKC,SAAS9I,EAAQ,IACtB+I,EAAM,eAAQL,IAChBG,GAAM,GACRE,EAAO/I,QAAS,EAChB+I,EAAOP,cAAgB,kBACdzI,EAAM0G,OAAS,GACxBsC,EAAOhJ,OAAQ,EACfgJ,EAAOR,aAAe,6CAEtBnJ,EVDC,cAEH,IAFsBxF,EAEvB,EAFuBA,UAAWE,EAElC,EAFkCA,MACnCW,EACC,EADDA,KAAMuO,EACL,EADKA,WAAYC,EACjB,EADiBA,aAAcjJ,EAC/B,EAD+BA,OAEhC,OAAOd,GAAY,SAAOE,GAAP,eAAA5B,EAAAC,OAAA,uDACjB2B,EAASU,EAAWrF,EAAMuO,EAAYC,IADrB,WAAAzL,EAAA,MAEEoC,EAAYA,EAAgBhG,EAAWa,EAAKnB,KAAM,CACnE0P,aAAYC,eAAcjJ,UACzB,CACDH,cAAc,UAAD,OAAY/F,MALV,cAEXyD,EAFW,QAORhE,UACP6F,EWzCG,CAACrG,KAAM,kBAAkBQ,SXyCJgE,EAAKhE,WARd,kBAUV6F,EAASa,EAAY1C,EAAK9C,QAVhB,wCUFNyO,CAAQxP,EAAS,CAAEe,OAAMwO,aAAclJ,EAAOC,OAAQ6I,KAEjED,EAASG,IAMPhJ,MAAOA,EACP4H,SAAUA,EACV1N,MAAOA,EACP2N,SAAUzO,EAAUkC,KAAI,SAAChC,GAAD,OAAOA,EAAEQ,QACjCmG,OAAQA,EACR6H,UAAWA,IEtBF,SAASsB,KAAc,IAAD,EACG3I,mBAAS,GADZ,mBAC5B4I,EAD4B,KACfC,EADe,KAE7B5O,EAAOsK,aAAY,SAAClM,GAAD,OAAWA,EAAMqB,UAAUC,MAAMC,KAAKvB,EAAM6B,aAAaC,YAAY,GACxFxB,EAAY4L,aAAY,SAAClM,GAAD,OAAWA,EAAMI,MAAME,aAC/CmQ,EAAa7O,EAAKiL,UAAY,GAJD,EAKpB3K,IAAMyF,SAAS,GAAvBoB,EAL4B,sBAMb7G,IAAMyF,SAAS,IAA9B+I,EAN4B,oBAOnC,OACE,2BACE,wBAAY9N,QAAQ,KAAK8H,MAAO,CAAEgB,WAAY,UAA9C,eAGA,uBACEpC,WAAS,EACTC,UAAU,MACVE,QAAQ,aACRC,WAAW,SACXgB,MAAO,CAAEgB,WAAY,UAErB,wBAAQH,IAAK3J,EAAKZ,KAAMwK,IAAK5J,EAAKuC,QAAU,KAE5C,wBAAYvB,QAAQ,KAAK8H,MAAO,CAAEoB,YAAa,QAC5ClK,EAAKZ,OAKV,wBACEqC,MAAOkN,EACPI,eAAe,UACfC,UAAU,UACV1N,SAAU,SAACC,EAAG+H,GAAJ,OAAUsF,EAAetF,IACnCtI,QAAQ,YACR8H,MAAO,CAAEoB,YAAa,QAASsC,aAAc,UAE7C,wBAAKzL,MAAM,UACX,wBAAKA,MAAM,SACX,wBAAKA,MAAM,cAEb,kBAAC,KAAD,CACEkO,KAAK,YACL3C,MAAOqC,EACPO,eAAgB,CAAElG,OAAQ,KAC1BmG,cAAeR,GAEf,kBAAC,GAAD,CAAS3O,KAAMA,EAAMtB,UAAWA,KAGlC,wBAAgBoK,MAAO,CAAEY,MAAO,SAC9B,wBAAO/C,aAAW,SAChB,4BACE,4BACE,wBAAW0F,MAAM,QAAjB,aAGA,wBAAWA,MAAM,SAAjB,YAKJ,4BACGwC,EAAWO,MAAMjI,EAAO2H,EAAa3H,EAAO2H,EAAcA,GAAalO,KAAI,SAACwK,GAAD,OAC1E,wBAAU/C,OAAK,EAACgH,KAAK,WAAWC,UAAW,EAAGxO,IAAKsK,EAAI9F,OACrD,wBAAW+G,MAAM,QACd3N,EAAUC,MAAK,SAACC,GAAD,OAAOA,EAAEC,MAAQuM,EAAI9F,SAAOlG,MAE9C,wBAAWiN,MAAM,SACdjB,EAAI7F,gBFjCvB2I,GAAU9D,aAAe,CACvB1L,UAAW,I,sBGrCPc,GAAQ,CACZJ,MAAM,EACNmQ,KAAK,EACLC,YAAa,GACbC,WAAY,IAERC,GAAYC,cAAW,SAACC,GAAD,MAAY,CACvCC,QAAS,CACP5O,OAAQ2O,EAAMrC,QAAQ,GACtBuC,SAAU,YAEZC,cAAe,CACbhH,gBAAiBiH,KAAM,KACvB,UAAW,CACTjH,gBAAiBiH,KAAM,OAG3BC,YAAa,CACXpO,MAAOmO,KAAM,KACbF,SAAU,WACVI,KAAM,EACNC,MAAO,EACPC,OAAQ,GAEVC,eAAgB,CACdxO,MAAOmO,KAAM,KACbF,SAAU,WACVI,IAAK,MACLC,KAAM,MACNzD,WAAY,GACZ4D,YAAa,IAEfC,UAAW,CACT7G,MAAOkG,EAAMrC,QAAQ,IACrBvE,OAAQ4G,EAAMrC,QAAQ,SAIX,SAASiD,KACtB,IAAMtH,EAAWuH,iBAAO,IAElBC,EAAcD,iBAAO,MACrBxR,EAAUqL,aAAY,SAAClM,GAAD,OAAWA,EAAMa,WACvC0R,EAAYrG,aAAY,SAAClM,GAAD,OAAWA,EAAM+B,QAAN,mBALN,EAMC4F,mBAAS,MANV,mBAM5B6K,EAN4B,KAMhBC,EANgB,KAO7BlM,EAAWwB,cAEX2K,IADcH,GAAaA,EAAU3R,UACvB2R,GAAkC,cAArBA,EAAU3R,SACrC+R,EAAUrB,KAkBhB,OACE,2BACE,wBAAY1O,QAAQ,KAAK8H,MAAO,CAAEgB,WAAY,QAASC,cAAe,QAAtE,eAIA,wBAAOjB,MAAO,CAAEuE,QAAS,UACvB,0BAAM1L,SAnBZ,SAAqBJ,GACnBA,EAAE+E,iBACgBoK,EAAY3D,QAAQ3N,KAAtC,IACMsG,EAAOgL,EAAY3D,QAAQiE,MAAM,GACvCrM,EbtBG,SAAoB1F,EAASmB,EAAWsF,EAAMtG,GACnD,OAAOqF,GAAY,SAAOE,GAAP,iBAAA5B,EAAAC,OAAA,uDACjB2B,EApCK,CAAErG,KAAM,kBAmCI,WAAAyE,EAAA,MAEI0C,EAAUxG,EAASmB,EAAWsF,IAFlC,cAEXnD,EAFW,kBAAAQ,EAAA,MAGEoC,EAAYA,EAAmBlG,EAAQE,WAAY,CACpEC,OAAMmD,UACL,CACD6C,cAAc,UAAD,OAAYnG,EAAQI,UANlB,OAGXyD,EAHW,OAQjB6B,EAvCK,CAAErG,KAAM,eAAgB0B,KAuCR8C,EAAK9C,OART,wCaqBRiR,CAAWhS,EAASmB,EAAWsF,EAAMwD,EAAS6D,YAgBjD,uBAAMrF,WAAS,EAACC,UAAU,cAAcE,QAAQ,WAAWC,WAAW,UACpE,uBAAM9H,MAAI,GACR,uBAAQ1B,KAAK,SAAS0C,QAAQ,YAAYa,MAAM,WAAhD,WAIF,wBAAQsI,QAAM,GACZ,uBAAMnK,MAAI,EAAC6I,GAAI,KAEjB,uBAAM7I,MAAI,GACR,uBACED,GAAG,WACHP,MAAOA,GAAMJ,KACbyO,WAAYrO,GAAMgQ,YAClBlO,SAAU,SAACC,GAAD,OAtCHnC,EAsCsBmC,EAAEC,OAAOC,WArClDyH,EAAS6D,QAAU3N,GADrB,IAAqBA,GAuCP2B,MAAM,YACNzC,KAAK,UAGT,wBAAQ6L,QAAM,GACZ,uBAAMnK,MAAI,EAAC6I,GAAI,KAEjB,uBAAM7I,MAAI,GAER,wBACEgB,QAAQ,UACRuG,UAAWwJ,EAAQR,UACnB3G,IAAKgH,GAAc,IAHrB,OAOA,uBAAMlJ,WAAS,EAACG,QAAQ,cACtB,uBAAM7H,MAAI,GACR,2BACEkR,IAAKR,EACLtR,KArEI,kBAsEJ+R,OAAO,UACPrI,MAAO,CAAEsI,QAAS,QAClBrR,GAAG,uBACHsR,UAAQ,EACR/P,SAAU,kBArD5B,WACE,IAAMoE,EAAOgL,EAAY3D,QAAQiE,MAAM,GACvCH,EAAcS,IAAIC,gBAAgB7L,IAmDF8L,IAChBlT,KAAK,SAEP,2BAAOmT,QAAQ,wBAEb,uBAAQzQ,QAAQ,OAAOa,MAAM,UAAUoI,UAAU,OAAOyH,SAAUZ,GAAlE,YAKJ,uBAAM9Q,MAAI,GACP8Q,GAAW,wBAAkBa,KAAM,GAAIpK,UAAWwJ,EAAQd,qBCtI7E,IAAM2B,GAAgB,wBAEhBlC,GAAYC,cAAW,SAACC,GAAD,MAAY,CACvCiC,aAAc,CACZC,WAAYlC,EAAMmC,YAAYC,OAAO,MAAO,CAC1CC,OAAQrC,EAAMmC,YAAYE,OAAOC,UACjCC,SAAU,UAEZC,SAAU,GAEZC,WAAY,YACV,OADiC,EAApBC,cAGJ,GADA,CAAE7K,SAAU,iBAAkB8K,SAAU,SAAUC,QAAS,QAKzD,SAASC,KACtB,IAKIC,EALEvU,EAAOmM,aAAY,SAAClM,GAAD,OAAWA,EAAMD,QACpCK,EAAQ8L,aAAY,SAAClM,GAAD,OAAWA,EAAMI,SACrCS,EAAUqL,aAAY,SAAClM,GAAD,OAAWA,EAAMa,WACvC0T,EAAmBrI,aAAY,SAAClM,GAAD,OAAWA,EAAM6B,aAAa3B,QAC7DyS,EAAUrB,GAAU,CAAE4C,gBAAiBK,IAqB7C,OAjBED,EADEvU,EAAKoE,SAAWqP,GACT,wBAAQ9K,KAAK,QAAQ6C,IAAKxL,EAAKyU,SAAUhJ,IAAKtH,EAAY9D,EAAM+D,UAEhE,wBAAQuE,KAAK,SAAS3I,EAAKyU,SAASpJ,OAAO,GAAGC,eAgBvD,uBAAWhC,UAAU,EAAOqB,MAAO,CAAEgB,WAAY,MAAOd,OAAQ,SAC9D,wBAAQ8G,SAAS,YACf,4BACG4C,EACD,wBAAY1R,QAAQ,KAAK8H,MAAO,CAAEoB,YAAa,QAC5C/L,EAAKyU,UAER,wBAAY5R,QAAQ,KAAK8H,MAAO,CAAEoB,YAAa,UAA/C,KAGA,wBAAYlJ,QAAQ,KAAK8H,MAAO,CAAEoB,YAAa,SAAWrI,MAAM,iBAC7DrD,EAAMY,QAIb,uBAAMsI,WAAS,EAACI,WAAW,aAAaD,QAAQ,SAASiB,MAAO,CAAEE,OAAQ,SACxE,uBAAMhJ,MAAI,IACV,uBAAMA,MAAI,EAAC+H,GAAI,GAAIc,GAAI8J,EAAmB,EAAI,EAAGpL,UAAWwJ,EAAQc,cAClE,kBAACvG,GAAD,CAAWnM,UAAWX,EAAMY,KAAMC,MAAOJ,EAAQI,SAEnD,wBAASwT,YAAY,WAAWtL,UAAWwJ,EAAQ+B,aACnD,uBAAM9S,MAAI,EAAC+H,GAAI,GAAIc,GAAI,EAAGtB,UAAS,UAAKwJ,EAAQc,aAAb,YAA6Bd,EAAQ+B,aAlC9E,WAEE,OADAC,QAAQC,IAAIL,GACJA,GACN,IAAK,cACH,OAAO,kBAACjE,GAAD,MACT,IAAK,cACH,OAAO,kBAAC8B,GAAD,MACT,QACE,MAAO,IA2BJyC,MCrEX,IAAMrD,GAAQsD,YAAe,CAC3BC,QAAS,CACPC,QAAS,CACPC,KAAM,WAERC,KAAM,CACJF,QAAS,UACTG,UAAW,YAGfC,WAAY,CACVC,WAAY,CACV,gBACA,qBACA,aACA,SACA,mBACA,QACA,aACA,sBACA,mBACA,qBACAvP,KAAK,KACPwP,GAAI,CACF7R,MAAO,WAET8R,GAAI,CACF9R,MAAO,cCxBO+R,QACW,cAA7BC,OAAO/U,SAASgV,UAEe,UAA7BD,OAAO/U,SAASgV,UAEhBD,OAAO/U,SAASgV,SAASC,MACvB,2DCRN,IAAMC,GAAQC,YAAYC,EAAaC,YAAgBC,MAEvDC,IAASC,OAAO,kBAAC,IAAD,CAAUN,MAAOA,IAAO,mBF6BzB,WACb,IAAM/U,EAAUqL,aAAY,SAAClM,GAAD,OAAWA,EAAMa,WACvCD,EAASsL,aAAY,SAAClM,GAAD,OAAWA,EAAMY,UACtC2F,EAAWwB,cAyBjB,OAvBA7F,IAAMuL,WAAU,WACV5M,GAAWA,EAAQI,OAAoB,SAAXL,GAE9B2F,EddC,YAA+C,IAArBxF,EAAoB,EAApBA,UAAWE,EAAS,EAATA,MAC1C,OAAOoF,GAAY,SAAOE,GAAP,eAAA5B,EAAAC,OAAA,uDACjB2B,EAjCK,CAAErG,KAAM,oBAgCI,WAAAyE,EAAA,MAEEoC,EAAWA,EAAgChG,GAAY,GAAI,CAC5EiG,cAAc,UAAD,OAAY/F,MAHV,OAEXyD,EAFW,OAKjB6B,EAASiB,GAAc9C,IALN,wCcaNyR,CAAetV,OAqB1B,kBAACuV,EAAA,EAAD,CAAe5E,MAAOA,IACpB,uBAAMlI,WAAS,EAACG,QAAQ,SAASC,WAAW,aAAagB,MAAO,CAAEE,OAAQ,SAlB9E,WACE,OAAQhK,GACN,IAAK,iBAAkB,OAAO,kBAACyT,GAAD,MAC9B,IAAK,OACH,OAAO,kBAACvL,GAAD,MACT,QACE,OACE,yBAAKK,UAAU,iCACb,yBAAKA,UAAU,4BAA4B8H,KAAK,UAC9C,0BAAM9H,UAAU,WAAhB,iBAULkN,OE5D+B,OAAoBC,SAASC,eAAe,SDuH9E,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMC,MAAK,SAAAC,GACjCA,EAAaC,kB","file":"static/js/main.c764d493.chunk.js","sourcesContent":["const localSessionJson = localStorage.getItem('session');\nlet localSession = {};\n\nif (localSession) {\n  localSession = JSON.parse(localSessionJson);\n}\n\nexport default function session(state = localSession, action) {\n  let sessionData = {};\n  switch (action.type) {\n    case 'SESSION_LOADED':\n      sessionData = {\n        groupname: action.data.group.name || state.groupname,\n        token: action.data.token || state.token,\n      };\n      localStorage.setItem('session', JSON.stringify(sessionData));\n      return sessionData;\n    default:\n      return state;\n  }\n}\n","import { combineReducers } from 'redux';\nimport user from './user';\nimport status from './status';\nimport group from './group';\nimport session from './session';\nimport error from './error';\nimport inventory from './inventory';\nimport selectedPane from './selectedPane';\nimport uploads from './uploads';\n\nexport default combineReducers({\n  user,\n  group,\n  status,\n  session,\n  error,\n  inventory,\n  selectedPane,\n  uploads\n});\n","export default function user(state = {}, action) {\n  switch (action.type) {\n    case 'SESSION_LOADED':\n      return action.data.user;\n    case 'IDLE':\n      return {};\n    default:\n      return state;\n  }\n}\n","// TODO mix reducers\nexport default function group(state = {}, action) {\n  const newstate = state;\n  switch (action.type) {\n    case 'SESSION_LOADED':\n      return action.data.group;\n    case 'IDLE':\n      return {};\n    case 'LOCATION_UPDATE':\n      const lFound = newstate.locations.find((l) => l._id === action.location._id);\n      if (!lFound) {\n        newstate.locations.push(action.location);\n      }\n      return newstate;\n    default:\n      return state;\n  }\n}\n","export default function status(state = 'IDLE', action) {\n  switch (action.type) {\n    case 'IDLE':\n    case 'SESSION_LOADING':\n    case 'SESSION_LOADED':\n      return action.type;\n    default:\n      return state;\n  }\n}\n","export default function error(state = null, action) {\n /* if (action.type== \"ERROR\") {\n    switch(action.error.message){\n      case 'GROUP_NOT_FOUND':\n        return \n        case 'USER_NOT_FOUND':\n          default:\n    }\n  }\n  */\n  return state;\n}\n","export default function inventory(state = {\n  status: 'INVENTORY_UNLOADED',\n  items: { byId: {}, allIds: [] },\n}, action) {\n  let newState = state;\n  switch (action.type) {\n    case 'INVENTORY_LOADING':\n      newState = state;\n      newState.status = 'INVENTORY_LOADING';\n      return newState;\n\n    case 'INVENTORY_LOADED':\n      return { status: action.type, items: action.items };\n\n    case 'ITEM_CREATED':\n      if (!state.items.allIds.some((id) => id === action.item._id)) {\n        state.items.allIds.push(action.item._id);\n      }\n      // fallthrough\n    case 'ITEM_UPDATED':\n      if (state.items.allIds.some((id) => id === action.item._id)) {\n        newState.items.byId[action.item._id] = action.item;\n        /*       newState.items.allIds = state.items.allIds.sort((i1, i2) => {\n          const a = new Date(newState.items.byId[i1].updatedAt);\n          const b = new Date(newState.items.byId[i2].updatedAt);\n          return a.getTime() - b.getTime();\n        });\n        PASSAR PARA COMPONENTE\n        */\n        return newState;\n      }\n      return state;\n\n    default:\n      return state;\n  }\n}\n","export default function selectedPane(state = 0, action) {\n  switch (action.type) {\n    case 'ITEM_SELECTED':\n      return {\n        type: 'ITEM_MANAGE',\n        itemid: action.item._id,\n      };\n    case 'INSERT_CLICK':\n      return {\n        type: 'ITEM_INSERT',\n      };\n    case 'ITEM_CREATED':\n      if (state.type === 'ITEM_INSERT') {\n        return 0;\n      }\n      break;\n    default:\n      return state;\n  }\n}\n","export default function uploads(state = {}, action) {\n  const newState = state;\n  switch (action.type) {\n    case 'UPLOADED':\n    case 'UPLOADING':\n      newState[action.inputName] = {\n        status: action.type,\n        data: action.data,\n      };\n      return newState;\n    default:\n      return state;\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { TextField, Button } from '@material-ui/core';\n\nconst values = {};\n\nfunction EnterForm({ fields, submit, validated }) {\n  const fieldsJsx = fields.map((field) => (\n    <TextField\n      key={field.name}\n      label={field.name}\n      type={field.type || 'text'}\n      variant=\"outlined\"\n      margin=\"normal\"\n      required\n      fullWidth\n      InputProps={{\n        endAdornment: field.endAdornment,\n      }}\n      onChange={(e) => { values[field.id] = e.target.value; }}\n    />\n\n  ));\n\n  return (\n    <form\n      noValidate\n      onSubmit={(e) => submit.handle(e, values)}\n    >\n      {fieldsJsx}\n      <Button\n        type=\"submit\"\n        variant=\"contained\"\n        color=\"primary\"\n        fullWidth\n      >\n        {submit.value}\n      </Button>\n    </form>\n  );\n}\n\nEnterForm.propTypes = {\n  fields: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    name: PropTypes.string.isRequired,\n    placeholder: PropTypes.string,\n    type: PropTypes.string,\n  })).isRequired,\n  submit: PropTypes.shape({\n    value: PropTypes.string.isRequired,\n    handle: PropTypes.func.isRequired,\n    style: PropTypes.shape({}),\n  }).isRequired,\n  validated: PropTypes.bool.isRequired,\n};\n\nexport default React.memo(EnterForm);\n","const BASE_SERVER = process.env.INVHOST || \"https://invmanager.herokuapp.com\";\nexport const GROUP_ENDPOINT = (groupname) => `${BASE_SERVER}/group/${groupname}`;\nexport const SIGNIN_ENDPOINT = `${BASE_SERVER}/enter/signin`;\nexport const SIGNUP_ENDPOINT = `${BASE_SERVER}/enter/signup`;\nexport const NEWGROUP_ENDPOINT = `${BASE_SERVER}/enter/newgroup`;\nexport const RESTORE_SESSION_ENDPOINT = (groupname) => `${GROUP_ENDPOINT(groupname)}/action/restoresession`;\nexport const PIC_ENDOINT = (picurl) => `${BASE_SERVER}/pics/${picurl}`;\nexport const INVENTORY_ENDPOINT = (groupname) => `${GROUP_ENDPOINT(groupname)}/inventory`;\nexport const INVENTORY_SEARCH = (groupname) => `${INVENTORY_ENDPOINT(groupname)}/search`;\nexport const ADD_ITEM = (groupname, itemid) => `${INVENTORY_ENDPOINT(groupname)}/${itemid}/add`;\nexport const UPLOAD_PIC = (groupname) => `${GROUP_ENDPOINT(groupname)}/upload/pic`;\nexport const CREATE_ITEM = (groupname) => `${INVENTORY_ENDPOINT(groupname)}/create`;","export * from './config';\n\nasync function handleJsonResponse(resp) {\n  let json;\n  try {\n    json = await resp.json();\n  } catch (err) {\n    throw new Error(`HTTP_ERROR_${resp.status}`);\n  }\n  if (json.message !== 'OK') {\n    throw new Error(json.message);\n  }\n  return json;\n}\nexport async function post(endpoint, body = {}, headers = {}) {\n  const resp = await fetch(endpoint, {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json',\n      ...headers,\n    },\n    body: JSON.stringify(body),\n  });\n  return handleJsonResponse(resp);\n}\n\nexport async function get(endpoint, params = {}, headers = {}) {\n  const params1 = Object.keys(params).map((k) => `${k}=${params[k]}`);\n  const paramsStr = params1.join('&');\n  const composedUrl = `${endpoint}?${paramsStr}`;\n\n  const resp = await fetch(composedUrl, {\n    method: 'GET',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json',\n      ...headers,\n    },\n  });\n  return handleJsonResponse(resp);\n}\n\nexport async function upload(endpoint, body = {}, headers = {}) {\n  const fd = new FormData();\n  Object.keys(body).forEach((k) => {\n    fd.append(k, body[k]);\n  });\n  const resp = await fetch(endpoint, {\n    method: 'POST',\n    headers: {\n      ...headers,\n    },\n    body: fd,\n  });\n  return handleJsonResponse(resp);\n}\n","\nexport default function handleError(fn) {\n  return function errHandler(dispatch) {\n    fn(dispatch).catch((error) => {\n      alert(error.message);\n      dispatch({ type: 'ERROR', error });\n    });\n  };\n}","import handleError from './error';\nimport * as server from '../connector';\n\nfunction inventoryLoading() {\n  return { type: 'INVENTORY_LOADING' };\n}\n\nfunction inventoryLoaded(items) {\n  return { type: 'INVENTORY_LOADED', items };\n}\n\nfunction normalizeInventory(inv) {\n  const returnObj = { byId: {}, allIds: [] };\n  inv.forEach((item) => {\n    returnObj.byId[item._id] = item;\n    returnObj.allIds.push(item._id);\n  });\n  return returnObj;\n}\n\nexport function loadInventory({ groupname, token }) {\n  return handleError(async (dispatch) => {\n    dispatch(inventoryLoading());\n    const resp = await server.get(server.INVENTORY_ENDPOINT(groupname), {}, {\n      Authorization: `Bearer ${token}`,\n    });\n    dispatch(inventoryLoaded(normalizeInventory(resp.items)));\n  });\n}\n\nexport function searchInventory({ groupname, token }, search) {\n  return handleError(async (dispatch) => {\n    dispatch(inventoryLoading());\n    const resp = await server.get(server.INVENTORY_SEARCH(groupname), { search }, {\n      Authorization: `Bearer ${token}`,\n    });\n    return dispatch(inventoryLoaded(normalizeInventory(resp.items)));\n  });\n}\n\nexport function selectItem(item) {\n  return { type: 'ITEM_SELECTED', item };\n}\n\nexport function insertItem() {\n  return { type: 'INSERT_CLICK' };\n}\n","import handleError from './error';\nimport * as server from '../connector';\nimport { locationUpdate } from './location';\n\nfunction addingItem(item, where, amount) {\n  return {\n    type: 'ADDING_ITEM', item, where, amount,\n  };\n}\n\nfunction itemUpdated(item) {\n  return { type: 'ITEM_UPDATED', item };\n}\n\nfunction uploading(inputName) {\n  return { type: 'UPLOADING', inputName };\n}\n\nfunction uploaded(inputName, picurl) {\n  return { type: 'UPLOADED', inputName, data: picurl };\n}\n\nfunction creatingItem() {\n  return { type: 'CREATING_ITEM'};\n}\n\nfunction itemCreated(item) {\n  return { type: 'ITEM_CREATED', item};\n}\n\n\nexport function addItem({ groupname, token }, {\n  item, locationId, locationName, amount,\n}) {\n  return handleError(async (dispatch) => {\n    dispatch(addingItem(item, locationId, locationName, amount));\n    const resp = await server.post(server.ADD_ITEM(groupname, item._id), {\n      locationId, locationName, amount,\n    }, {\n      Authorization: `Bearer ${token}`,\n    });\n    if (resp.location) {\n      dispatch(locationUpdate(resp.location));\n    }\n    return dispatch(itemUpdated(resp.item));\n  });\n}\n\nasync function uploadPic({ groupname, token }, inputName, file) {\n  const resp = await server.upload(server.UPLOAD_PIC(groupname), {\n    file,\n  }, {\n    Authorization: `Bearer ${token}`,\n  });\n  return resp.url;\n}\n\nexport function createItem(session, inputName, file, name) {\n  return handleError(async (dispatch) => {\n    dispatch(creatingItem());\n    const picurl = await uploadPic(session, inputName, file);\n    const resp = await server.post(server.CREATE_ITEM(session.groupname), {\n      name, picurl,\n    }, {\n      Authorization: `Bearer ${session.token}`,\n    });\n    dispatch(itemCreated(resp.item));\n  });\n}\n","import * as server from '../connector';\nimport handleError from './error';\n\nfunction sessionLoading() {\n  return { type: 'SESSION_LOADING' };\n}\n\nfunction sessionLoaded(serverResponse) {\n  return { type: 'SESSION_LOADED', data: serverResponse || {} };\n}\n\nexport function signin(params) {\n  return handleError(async (dispatch) => {\n    dispatch(sessionLoading());\n    const resp = await server.post(server.SIGNIN_ENDPOINT, params);\n    dispatch(sessionLoaded(resp));\n  });\n}\n\nexport function signup(params) {\n  return handleError(async (dispatch) => {\n    dispatch(sessionLoading());\n    const resp = await server.post(server.SIGNUP_ENDPOINT, params);\n    dispatch(sessionLoaded(resp));\n  });\n}\n\nexport function creategroup(params) {\n  return handleError(async (dispatch) => {\n    dispatch(sessionLoading());\n    const resp = await server.post(server.NEWGROUP_ENDPOINT, params);\n    dispatch(sessionLoaded(resp));\n  });\n}\n\nexport function restoreSession({ groupname, token }) {\n  return handleError(async (dispatch) => {\n    dispatch(sessionLoading());\n    const resp = await server.get(server.RESTORE_SESSION_ENDPOINT(groupname), {}, {\n      Authorization: `Bearer ${token}`,\n    });\n    dispatch(sessionLoaded(resp));\n  });\n}\n\nexport * from './inventory';\nexport * from './manageItem';\nexport * from './location';","import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport Visibility from '@material-ui/icons/Visibility';\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\nimport { InputAdornment, IconButton } from '@material-ui/core';\nimport EnterForm from '../../components/enterForm';\nimport { signin } from '../../actions';\n\nexport default function Signin() {\n  const [validated, setValidated] = React.useState(false);\n  const [showPassword, setShowPassword] = React.useState(false);\n  const dispatch = useDispatch();\n\n  function onClickSubmit(event, values) {\n    event.preventDefault();\n    setValidated(true);\n    if (event.currentTarget.checkValidity()) {\n      dispatch(signin(values));\n    }\n  }\n\n  return (\n    <EnterForm\n      fields={[\n        {\n          id: 'groupname',\n          name: 'Group name',\n          placeholder: 'Your group name here',\n          warning: 'Invalid groupname',\n        },\n        {\n          id: 'username',\n          name: 'Username',\n          placeholder: 'Your username here',\n          warning: 'Invalid username',\n        },\n        {\n          id: 'password',\n          name: 'Password',\n          placeholder: 'Your password here',\n          warning: 'Invalid password',\n          type: showPassword ? 'text' : 'password',\n          endAdornment: (\n            <InputAdornment>\n              <IconButton\n                aria-label=\"toggle password visibility\"\n                onClick={() => setShowPassword(!showPassword)}\n                onMouseDown={(e) => e.preventDefault()}\n                edge=\"end\"\n              >\n                {showPassword ? <Visibility /> : <VisibilityOff />}\n              </IconButton>\n            </InputAdornment>\n          ),\n        },\n      ]}\n      submit={{\n        value: 'Sign In',\n        handle: (event, values) => onClickSubmit(event, values),\n      }}\n      validated={validated}\n    />\n  );\n}\n","import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport Visibility from '@material-ui/icons/Visibility';\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\nimport { InputAdornment, IconButton } from '@material-ui/core';\nimport EnterForm from '../../components/enterForm';\nimport { signup } from '../../actions';\n\nexport default function Signup() {\n  const [showPassword, setShowPassword] = React.useState(false);\n  const [validated, setValidated] = React.useState(false);\n  const dispatch = useDispatch();\n\n  function onClickSubmit(event, values) {\n    event.preventDefault();\n    setValidated(true);\n    if (event.currentTarget.checkValidity()) {\n      dispatch(signup(values));\n    }\n  }\n\n  return (\n    <EnterForm\n      fields={[\n        {\n          id: 'code',\n          name: 'Invitation code',\n          placeholder: 'Your group invitation code',\n          warning: 'Invalid invitation code',\n        },\n        {\n          id: 'username',\n          name: 'Username',\n          placeholder: 'Your username here',\n          warning: 'Invalid username',\n        },\n        {\n          id: 'password',\n          name: 'Password',\n          placeholder: 'Your password here',\n          warning: 'Invalid password',\n          type: showPassword ? 'text' : 'password',\n          endAdornment: (\n            <InputAdornment>\n              <IconButton\n                aria-label=\"toggle password visibility\"\n                onClick={() => setShowPassword(!showPassword)}\n                onMouseDown={(e) => e.preventDefault()}\n                edge=\"end\"\n              >\n                {showPassword ? <Visibility /> : <VisibilityOff />}\n              </IconButton>\n            </InputAdornment>\n          ),\n        },\n      ]}\n      submit={{\n        value: 'Sign Up',\n        handle: (event, values) => onClickSubmit(event, values),\n      }}\n      validated={validated}\n    />\n  );\n}\n","import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport Visibility from '@material-ui/icons/Visibility';\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\nimport { InputAdornment, IconButton } from '@material-ui/core';\nimport EnterForm from '../../components/enterForm';\nimport { creategroup } from '../../actions';\n\nexport default function NewGroup() {\n  const [validated, setValidated] = React.useState(false);\n  const [showPassword, setShowPassword] = React.useState(false);\n  const dispatch = useDispatch();\n\n  function onClickSubmit(event, values) {\n    event.preventDefault();\n    setValidated(true);\n    if (event.currentTarget.checkValidity()) {\n      dispatch(creategroup(values));\n    }\n  }\n\n  return (\n    <EnterForm\n      fields={[\n        {\n          id: 'groupname',\n          name: 'Group name',\n          placeholder: 'Your group name here',\n          warning: 'Invalid groupname',\n        },\n        {\n          id: 'username',\n          name: 'Username',\n          placeholder: 'Your username here',\n          warning: 'Invalid username',\n        },\n        {\n          id: 'password',\n          name: 'Password',\n          placeholder: 'Your password here',\n          warning: 'Invalid password',\n          type: showPassword ? 'text' : 'password',\n          endAdornment: (\n            <InputAdornment>\n              <IconButton\n                aria-label=\"toggle password visibility\"\n                onClick={() => setShowPassword(!showPassword)}\n                onMouseDown={(e) => e.preventDefault()}\n                edge=\"end\"\n              >\n                {showPassword ? <Visibility /> : <VisibilityOff />}\n              </IconButton>\n            </InputAdornment>\n          ),\n        },\n      ]}\n      submit={{\n        value: 'Create Group',\n        handle: (event, values) => onClickSubmit(event, values),\n      }}\n      validated={validated}\n    />\n  );\n}\n","import React from 'react';\nimport { Grid, Container, Button } from '@material-ui/core';\nimport Signin from './signin';\nimport Signup from './signup';\nimport Newgroup from './newgroup';\nimport './style.scss';\n\nconst storedPage = localStorage.getItem('defaultPage') || 'NEW_GROUP';\n\nexport default function DefaultPage() {\n  const [page, setPage] = React.useState(storedPage);\n  localStorage.setItem('defaultPage', page);\n\n  function renderState() {\n    const options = [\n      <Button fullWidth key=\"signinOpt\" onClick={() => setPage('SIGN_IN')} className=\"selectFormOption\">Sign In</Button>,\n      <Button fullWidth key=\"signupOpt\" onClick={() => setPage('SIGN_UP')} className=\"selectFormOption\">Sign Up</Button>,\n      <Button fullWidth key=\"newGroupOpt\" onClick={() => setPage('NEW_GROUP')} className=\"selectFormOption\">Create Group</Button>,\n    ];\n\n    switch (page) {\n      case 'SIGN_IN': return [options[1], options[2], <Signin />];\n      case 'SIGN_UP': return [options[2], options[0], <Signup />];\n      default: return [options[0], options[1], <Newgroup />];\n    }\n  }\n\n  const renderS = renderState();\n\n  return (\n    <div className=\"enter\">\n      <Container maxWidth=\"xs\">\n        <Grid container direction=\"column\" alignContent=\"center\" justify=\"center\">\n          {renderS[2]}\n          <Grid container alignItems=\"center\" justify=\"center\">\n            <Grid item xs={4}>\n              {renderS[0]}\n            </Grid>\n            <Grid item xs={4}>\n              {renderS[1]}\n            </Grid>\n          </Grid>\n        </Grid>\n      </Container>\n    </div>\n  );\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport TimeAgo from 'javascript-time-ago';\nimport en from 'javascript-time-ago/locale/en';\nimport {\n  Card, Grid, CardActionArea, Container, Typography, CardContent, Hidden, CardMedia, Avatar,\n} from '@material-ui/core';\nimport { PIC_ENDOINT } from '../connector';\n\nTimeAgo.addLocale(en);\nconst timeAgo = new TimeAgo('en-US');\n\nfunction getItemThumbnail(itemname, picurl) {\n  if (picurl === 'default_group_pic.png') {\n    const letters = itemname.split(' ')\n      .filter((v, i) => i < 2)\n      .map((name) => name.charAt(0).toUpperCase());\n    return (\n      <Avatar\n        style={{ width: '100%', height: '100%' }}\n        variant=\"square\"\n      >\n        { letters }\n      </Avatar>\n    );\n  }\n  return (\n    <Avatar\n      style={{ width: '100%', height: '100%' }}\n      variant=\"square\"\n      alt={itemname}\n      src={picurl}\n    />\n  );\n}\n\nfunction Item({\n  item, amount, hover, active, onClick,\n}) {\n  let arrowClass = 'arrow';\n  if (active) arrowClass = 'arrow arrowa';\n  else if (hover) arrowClass = 'arrow arrowh';\n\n  const date = new Date(item.updatedAt);\n  const dateStr = timeAgo.format(date, 'twitter') || 'Just now';\n\n  return (\n    <Card onClick={((e) => onClick(e))}>\n      <CardActionArea>\n        <Grid container justify=\"flex-start\">\n          <Grid item xs={3} sm={2}>\n            <CardMedia\n              style={{ backgroundColor: '#F5F5F5', height: '100%' }}\n              title={item.name}\n            >\n              {getItemThumbnail(item.name, item.picurl)}\n            </CardMedia>\n          </Grid>\n          <Grid item xs={9} sm={7}>\n            <CardContent style={{ paddingTop: '15px', paddingBottom: '15px' }}>\n              <Typography gutterBottom variant=\"h6\" component=\"h2\">\n                {item.name}\n              </Typography>\n              <Grid container justify=\"flex-start\" alignItems=\"center\">\n                <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n                  { amount }\n                  {' '}\n                  items\n                </Typography>\n                <Typography variant=\"body2\" color=\"textSecondary\" style={{ paddingLeft: '10px' }} component=\"p\">\n                  {dateStr}\n                </Typography>\n              </Grid>\n            </CardContent>\n          </Grid>\n          <Hidden xsDown>\n            <Grid item sm={3}>\n              <Grid container justify=\"flex-end\">\n                <div className={arrowClass}>\n                  <div className=\"arrow-top\" />\n                  <div className=\"arrow-bottom\" />\n                </div>\n              </Grid>\n            </Grid>\n          </Hidden>\n        </Grid>\n      </CardActionArea>\n    </Card>\n  );\n}\n\nItem.propTypes = {\n  item: PropTypes.shape({\n    name: PropTypes.string.isRequired,\n    picurl: PropTypes.string.isRequired,\n    updatedAt: PropTypes.string.isRequired,\n    storedAt: PropTypes.arrayOf(PropTypes.shape({\n      where: PropTypes.string.isRequired,\n      amount: PropTypes.number,\n    })).isRequired,\n  }).isRequired,\n  amount: PropTypes.number,\n  hover: PropTypes.bool,\n  onClick: PropTypes.func,\n  active: PropTypes.bool,\n};\n\nItem.defaultProps = {\n  amount: 0,\n  hover: false,\n  onClick: () => {},\n  active: false,\n};\n\nexport default React.memo(Item);\n","/* eslint-disable no-underscore-dangle */\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useDispatch, useSelector } from 'react-redux';\nimport ItemInner from '../../../components/item';\nimport { selectItem } from '../../../actions/inventory';\n\nexport default function Item({ style, id }) {\n  const [hover, setHover] = useState(false);\n\n  const dispatch = useDispatch();\n  const item = useSelector((state) => {\n    return state.inventory.items.byId[id];\n  });\n  const isSelected = useSelector((state) => state.selectedItemId === id);\n\n  function getTotalAmount() {\n    const arr = item.storedAt || [];\n    return arr.reduce((sum, loc) => sum + loc.amount, 0);\n  }\n\n  const setStyle = { ...style };\n  if (isSelected) {\n    setStyle.pointerEvents = 'none';\n  }\n\n  return (\n    <div style={setStyle}>\n      <div\n        onActive\n        onFocus={() => setHover(true)}\n        onBlur={() => setHover(false)}\n        onMouseEnter={() => setHover(true)}\n        onMouseLeave={() => setHover(false)}\n      >\n        <ItemInner\n          onClick={() => dispatch(selectItem(item))}\n          item={item}\n          hover={hover}\n          active={isSelected}\n          amount={getTotalAmount()}\n        />\n      </div>\n    </div>\n  );\n}\n\nItem.propTypes = {\n  style: PropTypes.shape({}),\n  id: PropTypes.string.isRequired,\n};\n\nItem.defaultProps = {\n  style: {},\n};\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  Container, Grid, CircularProgress, Typography, Hidden, List, ListItem, Fab, Paper, Tooltip,\n} from '@material-ui/core';\nimport SearchBar from 'material-ui-search-bar';\nimport AddIcon from '@material-ui/icons/Add';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { CSSTransition, TransitionGroup } from 'react-transition-group';\n\nimport { loadInventory, searchInventory, insertItem } from '../../actions';\n\nimport Item from './item';\nimport './style.scss';\n\n\nlet typingTimer;\nexport default function Inventory({ groupname, token }) {\n  const inventoryStatus = useSelector((state) => state.inventory.status);\n  const itemIds = useSelector((state) => state.inventory.items.allIds);\n  let filterQuery = React.createRef('');\n\n  const dispatch = useDispatch();\n  const [searchValue, setSearchValue] = useState('');\n\n  React.useEffect(() => {\n    if (inventoryStatus === 'INVENTORY_UNLOADED') {\n      dispatch(loadInventory({ groupname, token }));\n    }\n  });\n\n  let itemsJsx = '';\n  let retJsx = '';\n  let displayItems = [];\n\n  switch (inventoryStatus) {\n    case 'INVENTORY_LOADED':\n      if (itemIds.length === 0) {\n        itemsJsx = (\n          <CSSTransition\n            key={\"no_item\"}\n            timeout={5000}\n            appear\n            classNames=\"itemOnList\"\n          >\n            <Typography\n              style={{ paddingTop: '3em' }}\n              variant=\"h5\"\n              align=\"center\"\n            >\n            No items in inventory\n            </Typography>\n\n          </CSSTransition>\n        );\n      } else {\n        itemsJsx = itemIds.map((id, index) => (\n          <CSSTransition\n            key={id}\n            timeout={5000}\n            appear\n            classNames=\"itemOnList\"\n          >\n            <ListItem style={{ transitionDelay: `${index * 0.1}s`, paddingLeft: 0, paddingRight: 0 }}>\n              <Item id={id} style={{ width: '100%' }} />\n            </ListItem>\n          </CSSTransition>\n        ));\n      }\n\n      retJsx = (\n        <List style={{ paddingTop: '1.3em' }}>\n          <TransitionGroup className=\"itemsWrapper\">\n            {itemsJsx}\n          </TransitionGroup>\n        </List>\n      );\n      break;\n    default:\n      retJsx = (<Grid container justify=\"center\"><CircularProgress style={{ marginTop: '3em' }} /></Grid>);\n  }\n\n  function search(value) {\n    dispatch(searchInventory({ groupname, token }, value));\n  }\n\n  function onChangeSearch(value) {\n    setSearchValue(value);\n    clearTimeout(typingTimer);\n    typingTimer = setTimeout(() => {\n      if (value) {\n        search(value);\n      } else {\n        filterQuery.current = value;\n        dispatch(loadInventory({ groupname, token }));\n      }\n    }, 300);\n  }\n\n  return (\n    <Container>\n      <Grid container justify=\"space-between\">\n        <Typography variant=\"h4\" style={{ paddingTop: '0.3em' }}>\n          Inventory\n        </Typography>\n\n        <Tooltip title=\"Insert new item\">\n          <Fab color=\"primary\" aria-label=\"add\" onClick={() => dispatch(insertItem())}>\n            <AddIcon />\n          </Fab>\n        </Tooltip>\n      </Grid>\n      <Grid container style={{ paddingTop: '1.8em' }}>\n        <Hidden xsDown>\n          <Grid item sm={6}>\n            <Typography variant=\"h5\" style={{ paddingTop: '0.3em' }}>\n              Recently Updated\n            </Typography>\n          </Grid>\n        </Hidden>\n        <Grid item sm={6}>\n          <SearchBar\n            value={searchValue}\n            onChange={(v) => onChangeSearch(v)}\n            onRequestSearch={() => {}}\n          />\n        </Grid>\n      </Grid>\n\n      {retJsx}\n    </Container>\n  );\n}\n\nInventory.propTypes = {\n  groupname: PropTypes.string.isRequired,\n  token: PropTypes.string.isRequired,\n};\n","import React from 'react';\nimport PropTypes, { shape } from 'prop-types';\nimport TextField from '@material-ui/core/TextField';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport Grid from '@material-ui/core/Grid';\nimport {\n  Button, Box,\n} from '@material-ui/core';\n\n\nfunction AddItem({\n  onSubmit,\n  setWhere,\n  error,\n  locNames,\n  setAmount,\n}) {\n  return (\n    <Box style={{padding:\".4em\"}}>\n      <form onSubmit={(e) => onSubmit(e)}>\n        <Grid container justify=\"flex-start\" alignItems=\"flex-start\" spacing={1}>\n          <Grid item xs={12} sm={6}>\n            <Autocomplete\n              id=\"location_input\"\n              options={locNames}\n              freeSolo\n              onChange={(e, value) => setWhere(value)}\n              onKeyUp={(e) => setWhere(e.target.value)}\n              renderInput={(params) => (\n                <TextField\n                  error={error.where}\n                  helperText={error.warningWhere}\n                  // eslint-disable-next-line react/jsx-props-no-spreading\n                  {...params}\n                  label=\"Where\"\n                  fullWidth\n                />\n              )}\n            />\n          </Grid>\n          <Grid item xs={12} sm={4}>\n            <TextField\n              id=\"amountInput\"\n              error={error.amount}\n              helperText={error.warningAmount}\n              onChange={(e) => setAmount(Number(e.target.value))}\n              label=\"Quantity\"\n              type=\"number\"\n            />\n          </Grid>\n          <Grid item xs={12} sm={2} style={{ height: '100%', paddingTop: '1em' }}>\n            <Button variant=\"contained\" type=\"submit\">\n              Add\n            </Button>\n          </Grid>\n        </Grid>\n      </form>\n    </Box>\n  );\n}\n\nAddItem.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n  setWhere: PropTypes.func.isRequired,\n  error: PropTypes.shape({\n    where: PropTypes.bool,\n    amount: PropTypes.bool,\n    warningWhere: PropTypes.string,\n    warningAmount: PropTypes.string,\n  }),\n  locNames: PropTypes.arrayOf(PropTypes.string),\n  setAmount: PropTypes.func.isRequired,\n};\n\nAddItem.defaultProps = {\n  error: {\n    where: false,\n    amount: false,\n    warningWhere: '',\n    warningAmount: '',\n  },\n  locNames: [],\n};\n\nexport default React.memo(AddItem);\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { addItem } from '../../actions';\nimport AddItem from '../../components/addItem';\n\nconst noError = {\n  where: false,\n  amount: false,\n  warningWhere: '',\n  warningAmount: '',\n};\n\nexport default function StoreItem({ item, locations }) {\n  const [where, setWhere] = useState('');\n  const [amount, setAmount] = useState(0);\n  const [error, setError] = useState({ ...noError });\n\n  const session = useSelector((state) => state.session);\n  const dispatch = useDispatch();\n\n  function onSubmit(e) {\n    e.preventDefault();\n    const am = parseInt(amount, 10);\n    const newErr = { ...noError };\n    if (am <= 0) {\n      newErr.amount = true;\n      newErr.warningAmount = 'Invalid amount';\n    } else if (where.length < 4) {\n      newErr.where = true;\n      newErr.warningWhere = 'Location must have more than 4 characters';\n    } else {\n      dispatch(addItem(session, { item, locationName: where, amount: am }));\n    }\n    setError(newErr);\n  }\n\n  return (\n    <AddItem\n      onSubmit={onSubmit}\n      where={where}\n      setWhere={setWhere}\n      error={error}\n      locNames={locations.map((l) => l.name)}\n      amount={amount}\n      setAmount={setAmount}\n    />\n  );\n}\n\nStoreItem.propTypes = {\n  item: PropTypes.shape({}).isRequired,\n  locations: PropTypes.arrayOf(PropTypes.shape({\n    name: PropTypes.string.isRequired,\n  })),\n};\n\nStoreItem.defaultProps = {\n  locations: [],\n};\n","export function locationUpdate(location){\n  return {type: 'LOCATION_UPDATE',location};\n}","import React, { useState } from 'react';\nimport {\n  Grid,\n  Container,\n  Typography,\n  Avatar,\n  Tab,\n  Tabs,\n  Paper,\n  Table,\n  TableContainer,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableBody,\n  TableFooter,\n  TablePagination,\n} from '@material-ui/core';\nimport { useSelector } from 'react-redux';\nimport SwipeableViews from 'react-swipeable-views';\nimport { PIC_ENDOINT } from '../../connector';\nimport AddItem from './storeItem';\n\nexport default function ManageItem() {\n  const [selectedTab, setSelectedTab] = useState(0);\n  const item = useSelector((state) => state.inventory.items.byId[state.selectedPane.itemid]) || {};\n  const locations = useSelector((state) => state.group.locations);\n  const storedLocs = item.storedAt || [];\n  const [page] = React.useState(0);\n  const [rowsPerPage] = React.useState(10);\n  return (\n    <Container>\n      <Typography variant=\"h4\" style={{ paddingTop: '0.3em' }}>\n        Manage Item\n      </Typography>\n      <Grid\n        container\n        direction=\"row\"\n        justify=\"flex-start\"\n        alignItems=\"center\"\n        style={{ paddingTop: '1.8em' }}\n      >\n        <Avatar alt={item.name} src={item.picurl || ''} />\n\n        <Typography variant=\"h6\" style={{ paddingLeft: '1em' }}>\n          {item.name}\n        </Typography>\n\n\n      </Grid>\n      <Tabs\n        value={selectedTab}\n        indicatorColor=\"primary\"\n        textColor=\"primary\"\n        onChange={(e, v) => setSelectedTab(v)}\n        variant=\"fullWidth\"\n        style={{ paddingLeft: '0.5em', paddingRight: '0.5em' }}\n      >\n        <Tab label=\"Store\" />\n        <Tab label=\"Take\" />\n        <Tab label=\"Transfer\" />\n      </Tabs>\n      <SwipeableViews\n        axis=\"x-reverse\"\n        index={selectedTab}\n        containerStyle={{ height: 100 }}\n        onChangeIndex={selectedTab}\n      >\n        <AddItem item={item} locations={locations} />\n\n      </SwipeableViews>\n      <TableContainer style={{ width: '100%' }}>\n        <Table aria-label=\"table\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"left\">\n                Stored at\n              </TableCell>\n              <TableCell align=\"right\">\n                Amount\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {storedLocs.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map((loc) => (\n              <TableRow hover role=\"checkbox\" tabIndex={-1} key={loc.where}>\n                <TableCell align=\"left\">\n                  {locations.find((l) => l._id === loc.where).name}\n                </TableCell>\n                <TableCell align=\"right\">\n                  {loc.amount}\n                </TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </Container>\n\n  );\n}\n","import React, { useRef, useState } from 'react';\nimport {\n  Container,\n  Typography,\n  TextField,\n  Button,\n  Fab,\n  CircularProgress,\n  Grid,\n  Avatar,\n  Hidden,\n  Paper,\n} from '@material-ui/core';\nimport CheckIcon from '@material-ui/icons/Check';\nimport CloudUpload from '@material-ui/icons/CloudUpload';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { makeStyles } from '@material-ui/styles';\nimport { green } from '@material-ui/core/colors';\nimport { createItem } from '../../actions';\n\n\nconst error = {\n  name: false,\n  pic: false,\n  warningName: '',\n  warningPic: '',\n};\nconst useStyles = makeStyles((theme) => ({\n  wrapper: {\n    margin: theme.spacing(1),\n    position: 'relative',\n  },\n  buttonSuccess: {\n    backgroundColor: green[500],\n    '&:hover': {\n      backgroundColor: green[700],\n    },\n  },\n  fabProgress: {\n    color: green[500],\n    position: 'absolute',\n    top: -6,\n    left: -6,\n    zIndex: 1,\n  },\n  buttonProgress: {\n    color: green[500],\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    marginTop: -12,\n    marginLeft: -12,\n  },\n  thumbSize: {\n    width: theme.spacing(18),\n    height: theme.spacing(18),\n  },\n}));\n\nexport default function CreateItem() {\n  const itemname = useRef('');\n  const uploadPicName = 'create_item_pic';\n  const uploadInput = useRef(null);\n  const session = useSelector((state) => state.session);\n  const picUpload = useSelector((state) => state.uploads[uploadPicName]);\n  const [picPreview, setPicPreview] = useState(null);\n  const dispatch = useDispatch();\n  const success = !!((picUpload && picUpload.status === 'UPLOADED'));\n  const loading = !!((picUpload && picUpload.status === 'UPLOADING'));\n  const classes = useStyles();\n\n  function setItemName(name) {\n    itemname.current = name;\n  }\n\n  function createItemH(e) {\n    e.preventDefault();\n    const inputName = uploadInput.current.name;\n    const file = uploadInput.current.files[0];\n    dispatch(createItem(session, inputName, file, itemname.current));\n  }\n\n  function setPic() {\n    const file = uploadInput.current.files[0];\n    setPicPreview(URL.createObjectURL(file));\n  }\n\n  return (\n    <Container>\n      <Typography variant=\"h4\" style={{ paddingTop: '0.3em', paddingBottom: '1em' }}>\n        Create Item\n      </Typography>\n\n      <Paper style={{ padding: '0.8em' }}>\n        <form onSubmit={createItemH}>\n          <Grid container direction=\"row-reverse\" justify=\"flex-end\" alignItems=\"center\">\n            <Grid item>\n              <Button type=\"submit\" variant=\"contained\" color=\"primary\">\n                Submit\n              </Button>\n            </Grid>\n            <Hidden xsDown>\n              <Grid item sm={1} />\n            </Hidden>\n            <Grid item>\n              <TextField\n                id=\"itemname\"\n                error={error.name}\n                helperText={error.warningName}\n                onChange={(e) => setItemName(e.target.value)}\n                label=\"Item name\"\n                type=\"text\"\n              />\n            </Grid>\n            <Hidden xsDown>\n              <Grid item sm={1} />\n            </Hidden>\n            <Grid item>\n\n              <Avatar\n                variant=\"rounded\"\n                className={classes.thumbSize}\n                src={picPreview || ''}\n              >\n          pic\n              </Avatar>\n              <Grid container justify=\"flex-start\">\n                <Grid item>\n                  <input\n                    ref={uploadInput}\n                    name={uploadPicName}\n                    accept=\"image/*\"\n                    style={{ display: 'none' }}\n                    id=\"outlined-button-file\"\n                    multiple\n                    onChange={() => setPic()}\n                    type=\"file\"\n                  />\n                  <label htmlFor=\"outlined-button-file\">\n\n                    <Button variant=\"text\" color=\"default\" component=\"span\" disabled={loading}>\n              Select\n                    </Button>\n                  </label>\n                </Grid>\n                <Grid item>\n                  {loading && <CircularProgress size={68} className={classes.fabProgress} />}\n                </Grid>\n              </Grid>\n            </Grid>\n          </Grid>\n        </form>\n      </Paper>\n    </Container>\n\n  );\n}\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport {\n  Container, AppBar, Toolbar, Typography, Avatar, Grid, Divider,\n} from '@material-ui/core';\n\nimport { makeStyles } from '@material-ui/styles';\nimport { PIC_ENDOINT } from '../../connector';\nimport Inventory from '../inventory';\nimport ManageItem from '../manageItem';\nimport CreateItem from '../createitem/createItem';\n\nconst defaultPicUrl = 'default_group_pic.png';\n\nconst useStyles = makeStyles((theme) => ({\n  animatedGrid: {\n    transition: theme.transitions.create('all', {\n      easing: theme.transitions.easing.easeInOut,\n      duration: '400ms',\n    }),\n    flexGrow: 1,\n  },\n  manageItem: ({ hassecondpane }) => {\n    if (!hassecondpane) {\n      return { maxWidth: '0px !important', overflow: 'hidden', opacity: 0 };\n    } return {};\n  },\n}));\n\nexport default function LoggedInPage() {\n  const user = useSelector((state) => state.user);\n  const group = useSelector((state) => state.group);\n  const session = useSelector((state) => state.session);\n  const selectedPaneType = useSelector((state) => state.selectedPane.type);\n  const classes = useStyles({ hassecondpane: !!selectedPaneType });\n  let avatar;\n\n  if (user.picurl === defaultPicUrl) {\n    avatar = <Avatar edge=\"start\" alt={user.username} src={PIC_ENDOINT(group.picurl)} />;\n  } else {\n    avatar = <Avatar edge=\"start\">{user.username.charAt(0).toUpperCase()}</Avatar>;\n  }\n\n  function choseSecondPane() {\n    console.log(selectedPaneType)\n    switch (selectedPaneType) {\n      case 'ITEM_MANAGE':\n        return <ManageItem />;\n      case 'ITEM_INSERT':\n        return <CreateItem />;\n      default:\n        return '';\n    }\n  }\n\n  return (\n    <Container maxWidth={false} style={{ paddingTop: '5em', height: '100%' }}>\n      <AppBar position=\"absolute\">\n        <Toolbar>\n          {avatar}\n          <Typography variant=\"h6\" style={{ paddingLeft: '1em' }}>\n            {user.username}\n          </Typography>\n          <Typography variant=\"h6\" style={{ paddingLeft: '0.1em' }}>\n            @\n          </Typography>\n          <Typography variant=\"h6\" style={{ paddingLeft: '0.1em' }} color=\"textSecondary\">\n            {group.name}\n          </Typography>\n        </Toolbar>\n      </AppBar>\n      <Grid container alignItems=\"flex-start\" justify=\"center\" style={{ height: '100%' }}>\n        <Grid item />\n        <Grid item xs={12} sm={selectedPaneType ? 5 : 6} className={classes.animatedGrid}>\n          <Inventory groupname={group.name} token={session.token} />\n        </Grid>\n        <Divider orientation=\"vertical\" className={classes.secondPane} />\n        <Grid item xs={12} sm={5} className={`${classes.animatedGrid} ${classes.secondPane}`}>\n          {choseSecondPane()}\n        </Grid>\n      </Grid>\n    </Container>\n  );\n}\n","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Container, Grid } from '@material-ui/core';\nimport { createMuiTheme, ThemeProvider } from '@material-ui/core/styles';\nimport DefaultPage from './containers/defaultPage';\nimport './App.scss';\nimport { restoreSession } from './actions';\nimport LoggedInPage from './containers/loggedInPage';\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: '#1976d2',\n    },\n    text: {\n      primary: '#424851',\n      secondary: '#a4abb4',\n    },\n  },\n  typography: {\n    fontFamily: [\n      '-apple-system',\n      'BlinkMacSystemFont',\n      '\"Segoe UI\"',\n      'Roboto',\n      '\"Helvetica Neue\"',\n      'Arial',\n      'sans-serif',\n      '\"Apple Color Emoji\"',\n      '\"Segoe UI Emoji\"',\n      '\"Segoe UI Symbol\"',\n    ].join(','),\n    h4: {\n      color: '#424851',\n    },\n    h5: {\n      color: '#a4abb4',\n    },\n  },\n});\n\nexport default function App() {\n  const session = useSelector((state) => state.session);\n  const status = useSelector((state) => state.status);\n  const dispatch = useDispatch();\n\n  React.useEffect(() => {\n    if (session && session.token && status === 'IDLE') {\n      // restore session data\n      dispatch(restoreSession(session));\n    }\n  });\n\n  function decideRender() {\n    switch (status) {\n      case 'SESSION_LOADED': return <LoggedInPage />;\n      case 'IDLE':\n        return <DefaultPage />;\n      default:\n        return (\n          <div className=\"d-flex justify-content-center\">\n            <div className=\"spinner-grow text-primary\" role=\"status\">\n              <span className=\"sr-only\">Loading...</span>\n            </div>\n          </div>\n        );\n    }\n  }\n\n  return (\n    <ThemeProvider theme={theme}>\n      <Grid container justify=\"center\" alignItems=\"flex-start\" style={{ height: '100%' }}>\n        {decideRender()}\n      </Grid>\n    </ThemeProvider>\n  );\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport thunk from 'redux-thunk';\nimport { createStore, applyMiddleware } from 'redux';\nimport mainreducer from './reducers';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nconst store = createStore(mainreducer, applyMiddleware(thunk));\n\nReactDOM.render(<Provider store={store}><App /></Provider>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}